{"version":3,"sources":["../src/arduino/export.ts"],"sourcesContent":["/**\n * Arduino code export utilities\n * Handles exporting generated code as .ino files\n */\n\n/**\n * Sanitize a string for use as a filename\n */\nfunction sanitizeFilename(name: string): string {\n  return name\n    .replace(/[<>:\"/\\\\|?*]/g, '-')\n    .replace(/\\s+/g, '_')\n    .substring(0, 100);\n}\n\n/**\n * Export Arduino code as a .ino file and trigger download\n */\nexport function downloadIno(code: string, projectName: string): void {\n  const blob = new Blob([code], { type: 'text/plain' });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = `${sanitizeFilename(projectName)}.ino`;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\n/**\n * Get Arduino code as a Blob (for future verify/upload use)\n */\nexport function getInoBlob(code: string): Blob {\n  return new Blob([code], { type: 'text/plain' });\n}"],"mappings":";AAQA,SAAS,iBAAiB,MAAsB;AAC9C,SAAO,KACJ,QAAQ,iBAAiB,GAAG,EAC5B,QAAQ,QAAQ,GAAG,EACnB,UAAU,GAAG,GAAG;AACrB;AAKO,SAAS,YAAY,MAAc,aAA2B;AACnE,QAAM,OAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAE,MAAM,aAAa,CAAC;AACpD,QAAM,MAAM,IAAI,gBAAgB,IAAI;AACpC,QAAM,OAAO,SAAS,cAAc,GAAG;AACvC,OAAK,OAAO;AACZ,OAAK,WAAW,GAAG,iBAAiB,WAAW,CAAC;AAChD,WAAS,KAAK,YAAY,IAAI;AAC9B,OAAK,MAAM;AACX,WAAS,KAAK,YAAY,IAAI;AAC9B,MAAI,gBAAgB,GAAG;AACzB;AAKO,SAAS,WAAW,MAAoB;AAC7C,SAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAE,MAAM,aAAa,CAAC;AAChD;","names":[]}