{"version":3,"sources":["../src/generators/logic/operators.ts","../src/generators/logic/control.ts","../src/generators/logic/math.ts","../src/generators/logic/text.ts","../src/generators/logic/arrays.ts","../src/generators/logic/variables.ts","../src/generators/logic/functions.ts","../src/generators/hardware/arduino.ts","../src/generators/hardware/time.ts","../src/generators/hardware/serial.ts","../src/generators/hardware/display.ts","../src/generators/hardware/sensor.ts","../src/generators/hardware/motors.ts","../src/generators/hardware/switch.ts","../src/generators/hardware/telecom.ts"],"sourcesContent":["import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\n\n/**\n * Arduino code generators for logic operators blocks\n */\n\n/**\n * Generator: logic_boolean\n * Returns 'true' or 'false'\n */\nArduino.forBlock['logic_boolean'] = function(block: Blockly.Block): [string, number] {\n  const code = block.getFieldValue('BOOL') === 'TRUE' ? 'true' : 'false';\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: logic_operation (AND)\n * Returns '&&' operation\n */\nArduino.forBlock['logic_operation_AND'] = function(block: Blockly.Block): [string, number] {\n  let argument0 = Arduino.valueToCode(block, 'A', Order.ATOMIC) || 'false';\n  let argument1 = Arduino.valueToCode(block, 'B', Order.ATOMIC) || 'false';\n\n  const code = `${argument0} && ${argument1}`;\n  return [code, Order.LOGICAL_AND];\n};\n\n/**\n * Generator: logic_operation (OR)\n * Returns '||' operation\n */\nArduino.forBlock['logic_operation_OR'] = function(block: Blockly.Block): [string, number] {\n  let argument0 = Arduino.valueToCode(block, 'A', Order.LOGICAL_OR) || 'false';\n  let argument1 = Arduino.valueToCode(block, 'B', Order.LOGICAL_OR) || 'false';\n\n  const code = `${argument0} || ${argument1}`;\n  return [code, Order.LOGICAL_OR];\n};\n\n/**\n * Generator: logic_operation\n * Generic logic operation handler (dispatches to AND/OR)\n */\nArduino.forBlock['logic_operation'] = function(block: Blockly.Block): [string, number] {\n  const operator = block.getFieldValue('OP') === 'AND' ? '&&' : '||';\n  const order = operator === '&&' ? Order.LOGICAL_AND : Order.LOGICAL_OR;\n\n  let argument0 = Arduino.valueToCode(block, 'A', order) || 'false';\n  let argument1 = Arduino.valueToCode(block, 'B', order) || 'false';\n\n  const code = `${argument0} ${operator} ${argument1}`;\n  return [code, order];\n};\n\n/**\n * Generator: logic_compare\n * Returns comparison operations (==, !=, <, >, <=, >=)\n */\nArduino.forBlock['logic_compare'] = function(block: Blockly.Block): [string, number] {\n  const OPERATORS: Record<string, string> = {\n    EQ: '==',\n    NEQ: '!=',\n    LT: '<',\n    LTE: '<=',\n    GT: '>',\n    GTE: '>=',\n  };\n\n  const operator = OPERATORS[block.getFieldValue('OP')];\n  const order = operator === '==' || operator === '!='\n    ? Order.EQUALITY\n    : Order.RELATIONAL;\n\n  const argument0 = Arduino.valueToCode(block, 'A', order) || '0';\n  const argument1 = Arduino.valueToCode(block, 'B', order) || '0';\n\n  const code = `${argument0} ${operator} ${argument1}`;\n  return [code, order];\n};\n\n/**\n * Generator: logic_negate\n * Returns '!' operation (NOT)\n */\nArduino.forBlock['logic_negate'] = function(block: Blockly.Block): [string, number] {\n  const order = Order.UNARY_PREFIX;\n  const argument0 = Arduino.valueToCode(block, 'BOOL', order) || 'false';\n  const code = `!${argument0}`;\n  return [code, order];\n};\n\n/**\n * Generator: logic_null\n * Returns 'NULL'\n */\nArduino.forBlock['logic_null'] = function(block: Blockly.Block): [string, number] {\n  const code = 'NULL';\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: logic_ternary\n * Returns ternary operator (condition ? true_value : false_value)\n */\nArduino.forBlock['logic_ternary'] = function(block: Blockly.Block): [string, number] {\n  const valueIf = Arduino.valueToCode(block, 'IF', Order.CONDITIONAL) || 'false';\n  const valueThen = Arduino.valueToCode(block, 'THEN', Order.CONDITIONAL) || 'null';\n  const valueElse = Arduino.valueToCode(block, 'ELSE', Order.CONDITIONAL) || 'null';\n\n  const code = `${valueIf} ? ${valueThen} : ${valueElse}`;\n  return [code, Order.CONDITIONAL];\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\n\n// Helper function to check if a value is a valid number string\nconst isNumber = (value: string): boolean => {\n  return /^-?[\\d.]+(?:e-?\\d+)?$/.test(value);\n};\n\n/**\n * Arduino code generators for control flow blocks\n */\n\n/**\n * Generator: controls_if\n * Generates if/else if/else statements\n */\nArduino.forBlock['controls_if'] = function(block: Blockly.Block): string {\n  let n = 0;\n  let argument = Arduino.valueToCode(block, 'IF' + n, Order.NONE) || 'false';\n  let branch = Arduino.statementToCode(block, 'DO' + n);\n  let code = `if (${argument}) {\\n${branch}\\n}`;\n\n  // Handle else-if blocks\n  for (n = 1; n <= (block as any).elseifCount_; n++) {\n    argument = Arduino.valueToCode(block, 'IF' + n, Order.NONE) || 'false';\n    branch = Arduino.statementToCode(block, 'DO' + n);\n    code += ` else if (${argument}) {\\n${branch}}`;\n  }\n\n  // Handle else block\n  if ((block as any).elseCount_) {\n    branch = Arduino.statementToCode(block, 'ELSE');\n    code += ` else {\\n${branch}\\n}`;\n  }\n\n  return code + '\\n';\n};\n\n/**\n * Generator: controls_repeat\n * Repeat N times with field number\n */\nArduino.forBlock['controls_repeat'] = function(block: Blockly.Block): string {\n  const repeats = block.getFieldValue('TIMES');\n  let branch = Arduino.statementToCode(block, 'DO');\n\n  if (Arduino.INFINITE_LOOP_TRAP) {\n    branch = Arduino.INFINITE_LOOP_TRAP.replace(/%1/g, `'${block.id}'`) + branch;\n  }\n\n  const loopVar = Arduino.nameDB_!.getDistinctName('count', Blockly.Names.NameType.VARIABLE);\n  const code = `for (int ${loopVar} = 0; ${loopVar} < ${repeats}; ${loopVar}++) {\\n${branch}}\\n`;\n\n  return code;\n};\n\n/**\n * Generator: controls_repeat_ext\n * Repeat N times with input value\n */\nArduino.forBlock['controls_repeat_ext'] = function(block: Blockly.Block): string {\n  const repeats = Arduino.valueToCode(block, 'TIMES', Order.ASSIGNMENT) || '0';\n  let branch = Arduino.statementToCode(block, 'DO');\n\n  if (Arduino.INFINITE_LOOP_TRAP) {\n    branch = Arduino.INFINITE_LOOP_TRAP.replace(/%1/g, `'${block.id}'`) + branch;\n  }\n\n  const loopVar = Arduino.nameDB_.getName('count', Blockly.Names.NameType.VARIABLE);\n  const code = `for (int ${loopVar} = 0; ${loopVar} < ${repeats}; ${loopVar}++) {\\n${branch}}\\n`;\n\n  return code;\n};\n\n/**\n * Generator: controls_whileUntil\n * While/until loop\n */\nArduino.forBlock['controls_whileUntil'] = function(block: Blockly.Block): string {\n  let argument0 = Arduino.valueToCode(block, 'BOOL', Order.NONE) || 'false';\n  let branch = Arduino.statementToCode(block, 'DO');\n\n  if (Arduino.INFINITE_LOOP_TRAP) {\n    branch = Arduino.INFINITE_LOOP_TRAP.replace(/%1/g, `'${block.id}'`) + branch;\n  }\n\n  if (block.getFieldValue('MODE') === 'UNTIL') {\n    if (!argument0.match(/^\\w+$/)) {\n      argument0 = `(${argument0})`;\n    }\n    argument0 = `!${argument0}`;\n  }\n\n  return `while (${argument0}) {\\n${branch}}\\n`;\n};\n\n/**\n * Generator: controls_for\n * For loop with variable\n */\nArduino.forBlock['controls_for'] = function(block: Blockly.Block): string {\n  const variable0 = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const argument0 = Arduino.valueToCode(block, 'FROM', Order.ASSIGNMENT) || '0';\n  const argument1 = Arduino.valueToCode(block, 'TO', Order.ASSIGNMENT) || '0';\n  const increment = Arduino.valueToCode(block, 'BY', Order.ASSIGNMENT) || '1';\n\n  let branch = Arduino.statementToCode(block, 'DO');\n  branch = Arduino.addLoopTrap(branch, block);\n\n  let code = '';\n\n  // Check if connected blocks include digitalwrite for pinMode setup\n  let connectedBlock = '';\n  let child = block.getChildren(false)[3];\n  while (child != null) {\n    connectedBlock += child.type + ',';\n    child = child.getNextBlock();\n  }\n\n  if (connectedBlock.includes('digitalwrite')) {\n    const up = parseFloat(argument0) <= parseFloat(argument1);\n    let setupCode = `  for (int ${variable0} = ${argument0}; ${variable0}${\n      up ? ' <= ' : ' >= '\n    }${argument1}; ${variable0}`;\n\n    const step = Math.abs(parseFloat(increment));\n    if (step === 1) {\n      setupCode += up ? '++' : '--';\n    } else {\n      setupCode += (up ? ' += ' : ' -= ') + step;\n    }\n    setupCode += `) {\\n    pinMode(${variable0}, OUTPUT);\\n  }\\n`;\n\n    Arduino.addSetup('io_' + variable0, setupCode, false);\n  }\n\n  // Generate the main for loop\n  if (isNumber(argument0) && isNumber(argument1) && isNumber(increment)) {\n    const up = parseFloat(argument0) <= parseFloat(argument1);\n    code = `for (int ${variable0} = ${argument0}; ${variable0}${\n      up ? ' <= ' : ' >= '\n    }${argument1}; ${variable0}`;\n\n    const step = Math.abs(parseFloat(increment));\n    if (step === 1) {\n      code += up ? '++' : '--';\n    } else {\n      code += (up ? ' += ' : ' -= ') + step;\n    }\n    code += `) {\\n${branch}}\\n`;\n  }\n\n  return code;\n};\n\n/**\n * Generator: controls_flow_statements\n * Break/continue statements\n */\nArduino.forBlock['controls_flow_statements'] = function(block: Blockly.Block): string {\n  switch (block.getFieldValue('FLOW')) {\n    case 'BREAK':\n      return 'break;\\n';\n    case 'CONTINUE':\n      return 'continue;\\n';\n  }\n  throw new Error('Unknown flow statement.');\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\n\n/**\n * Arduino code generators for math blocks\n */\n\n/**\n * Generator: math_numbers (legacy)\n * Numeric value\n */\nArduino.forBlock['math_numbers'] = function(block: Blockly.Block): [string, number] {\n  const code = window.parseFloat(block.getFieldValue('NUM'));\n  const order = code < 0 ? Order.UNARY_PREFIX : Order.ATOMIC;\n  return [code.toString(), order];\n};\n\n/**\n * Generator: math_number\n * Numeric value\n */\nArduino.forBlock['math_number'] = function(block: Blockly.Block): [string, number] {\n  const code = window.parseFloat(block.getFieldValue('NUM'));\n  const order = code < 0 ? Order.UNARY_PREFIX : Order.ATOMIC;\n  return [code.toString(), order];\n};\n\n/**\n * Operator mapping for math_arithmetic\n */\nconst ARITHMETIC_OPERATORS: Record<string, [string | null, number]> = {\n  ADD: [' + ', Order.ADDITIVE],\n  MINUS: [' - ', Order.ADDITIVE],\n  MULTIPLY: [' * ', Order.MULTIPLICATIVE],\n  DIVIDE: [' / ', Order.MULTIPLICATIVE],\n  POWER: [null, Order.NONE], // Handle power separately\n};\n\n/**\n * Generator: math_arithmetic\n * Basic arithmetic operators and power\n */\nArduino.forBlock['math_arithmetic'] = function(block: Blockly.Block): [string, number] {\n  const mode = block.getFieldValue('OP');\n  const tuple = ARITHMETIC_OPERATORS[mode];\n  const operator = tuple[0];\n  const order = tuple[1];\n  const argument0 = Arduino.valueToCode(block, 'A', order) || '0';\n  const argument1 = Arduino.valueToCode(block, 'B', order) || '0';\n\n  if (!operator) {\n    const code = `pow(${argument0}, ${argument1})`;\n    return [code, Order.UNARY_POSTFIX];\n  }\n\n  const code = argument0 + operator + argument1;\n  return [code, order];\n};\n\n/**\n * Generator: math_single\n * Advanced math functions\n */\nArduino.forBlock['math_single'] = function(block: Blockly.Block): [string, number] {\n  const operator = block.getFieldValue('OP');\n  let code: string;\n  let arg: string;\n\n  if (operator === 'NEG') {\n    // Negation is a special case given its different operator precedents\n    arg = Arduino.valueToCode(block, 'NUM', Order.UNARY_PREFIX) || '0';\n    if (arg[0] === '-') {\n      // --3 is not legal in C++ in this context\n      arg = ' ' + arg;\n    }\n    code = '-' + arg;\n    return [code, Order.UNARY_PREFIX];\n  }\n\n  if (operator === 'ABS' || operator.substring(0, 5) === 'ROUND') {\n    arg = Arduino.valueToCode(block, 'NUM', Order.UNARY_POSTFIX) || '0';\n  } else if (operator === 'SIN' || operator === 'COS' || operator === 'TAN') {\n    arg = Arduino.valueToCode(block, 'NUM', Order.MULTIPLICATIVE) || '0';\n  } else {\n    arg = Arduino.valueToCode(block, 'NUM', Order.NONE) || '0';\n  }\n\n  // First, handle cases which generate values that don't need parentheses\n  switch (operator) {\n    case 'ABS':\n      code = `abs(${arg})`;\n      break;\n    case 'ROOT':\n      code = `sqrt(${arg})`;\n      break;\n    case 'LN':\n      code = `log(${arg})`;\n      break;\n    case 'EXP':\n      code = `exp(${arg})`;\n      break;\n    case 'POW10':\n      code = `pow(10,${arg})`;\n      break;\n    case 'ROUND':\n      code = `round(${arg})`;\n      break;\n    case 'ROUNDUP':\n      code = `ceil(${arg})`;\n      break;\n    case 'ROUNDDOWN':\n      code = `floor(${arg})`;\n      break;\n    case 'SIN':\n      code = `sin(${arg} / 180 * M_PI)`;\n      break;\n    case 'COS':\n      code = `cos(${arg} / 180 * M_PI)`;\n      break;\n    case 'TAN':\n      code = `tan(${arg} / 180 * M_PI)`;\n      break;\n    default:\n      // Second, handle cases which generate values that may need parentheses\n      switch (operator) {\n        case 'LOG10':\n          code = `log(${arg}) / log(10)`;\n          return [code, Order.MULTIPLICATIVE];\n        case 'ASIN':\n          code = `asin(${arg}) / M_PI * 180`;\n          return [code, Order.MULTIPLICATIVE];\n        case 'ACOS':\n          code = `acos(${arg}) / M_PI * 180`;\n          return [code, Order.MULTIPLICATIVE];\n        case 'ATAN':\n          code = `atan(${arg}) / M_PI * 180`;\n          return [code, Order.MULTIPLICATIVE];\n        default:\n          throw new Error('Unknown math operator: ' + operator);\n      }\n  }\n\n  return [code, Order.UNARY_POSTFIX];\n};\n\n/**\n * Generator: math_trig\n * Trigonometric functions - uses same generator as math_single\n */\nArduino.forBlock['math_trig'] = Arduino.forBlock['math_single'];\n\n/**\n * Generator: math_round\n * Rounding functions - uses same generator as math_single\n */\nArduino.forBlock['math_round'] = Arduino.forBlock['math_single'];\n\n/**\n * Generator: math_constant\n * Mathematical constants\n */\nArduino.forBlock['math_constant'] = function(block: Blockly.Block): [string, number] {\n  const CONSTANTS: Record<string, [string, number]> = {\n    PI: ['M_PI', Order.MEMBER],\n    E: ['E', Order.MEMBER],\n    GOLDEN_RATIO: ['(1 + sqrt(5)) / 2', Order.MULTIPLICATIVE],\n    SQRT2: ['SQRT2', Order.MEMBER],\n    SQRT1_2: ['SQRT1_2', Order.MEMBER],\n    INFINITY: ['Infinity', Order.ATOMIC],\n  };\n\n  return CONSTANTS[block.getFieldValue('CONSTANT')];\n};\n\n/**\n * Generator: math_number_property\n * Check number properties\n */\nArduino.forBlock['math_number_property'] = function(block: Blockly.Block): [string, number] {\n  const numberToCheck = Arduino.valueToCode(block, 'NUMBER_TO_CHECK', Order.MULTIPLICATIVE) || '0';\n  const property = block.getFieldValue('PROPERTY');\n  let code: string;\n\n  if (property === 'PRIME') {\n    const func = [\n      'boolean ' + Arduino.DEF_FUNC_NAME + '(int n) {',\n      '  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods',\n      '  if (n == 2 || n == 3) {',\n      '    return true;',\n      '  }',\n      '  // False if n is NaN, negative, is 1.',\n      '  // And false if n is divisible by 2 or 3.',\n      '  if (isnan(n) || (n <= 1) || (n == 1) || (n % 2 == 0) || (n % 3 == 0)) {',\n      '    return false;',\n      '  }',\n      '  // Check all the numbers of form 6k +/- 1, up to sqrt(n).',\n      '  for (int x = 6; x <= sqrt(n) + 1; x += 6) {',\n      '    if (n % (x - 1) == 0 || n % (x + 1) == 0) {',\n      '      return false;',\n      '    }',\n      '  }',\n      '  return true;',\n      '}',\n    ];\n    const funcName = Arduino.addFunction('mathIsPrime', func.join('\\n'));\n    Arduino.addInclude('math', '#include <math.h>');\n    code = `${funcName}(${numberToCheck})`;\n    return [code, Order.UNARY_POSTFIX];\n  }\n\n  switch (property) {\n    case 'EVEN':\n      code = `${numberToCheck} % 2 == 0`;\n      break;\n    case 'ODD':\n      code = `${numberToCheck} % 2 == 1`;\n      break;\n    case 'WHOLE':\n      Arduino.addInclude('math', '#include <math.h>');\n      code = `(floor(${numberToCheck}) == ${numberToCheck})`;\n      break;\n    case 'POSITIVE':\n      code = `${numberToCheck} > 0`;\n      break;\n    case 'NEGATIVE':\n      code = `${numberToCheck} < 0`;\n      break;\n    case 'DIVISIBLE_BY':\n      const divisor = Arduino.valueToCode(block, 'DIVISOR', Order.MULTIPLICATIVE) || '0';\n      code = `${numberToCheck} % ${divisor} == 0`;\n      break;\n    default:\n      throw new Error('Unknown property: ' + property);\n  }\n\n  return [code, Order.EQUALITY];\n};\n\n/**\n * Generator: math_change\n * Add to a variable in place\n */\nArduino.forBlock['math_change'] = function(block: Blockly.Block): string {\n  const argument0 = Arduino.valueToCode(block, 'DELTA', Order.ADDITIVE) || '0';\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const code = `${varName} = ${varName} + ${argument0};\\n`;\n  return code;\n};\n\n/**\n * Generator: math_on_list\n * Operations on lists - not implemented for Arduino\n */\nArduino.forBlock['math_on_list'] = function(): [string, number] {\n  return ['', Order.ATOMIC];\n};\n\n/**\n * Generator: math_modulo\n * Modulo operation\n */\nArduino.forBlock['math_modulo'] = function(block: Blockly.Block): [string, number] {\n  const argument0 = Arduino.valueToCode(block, 'DIVIDEND', Order.MULTIPLICATIVE) || '0';\n  const argument1 = Arduino.valueToCode(block, 'DIVISOR', Order.MULTIPLICATIVE) || '0';\n  const code = `${argument0} % ${argument1}`;\n  return [code, Order.MULTIPLICATIVE];\n};\n\n/**\n * Generator: math_constrain\n * Constrain a number between two limits\n */\nArduino.forBlock['math_constrain'] = function(block: Blockly.Block): [string, number] {\n  const argument0 = Arduino.valueToCode(block, 'VALUE', Order.NONE) || '0';\n  const argument1 = Arduino.valueToCode(block, 'LOW', Order.NONE) || '0';\n  const argument2 = Arduino.valueToCode(block, 'HIGH', Order.NONE) || '0';\n  const code =\n    `(${argument0} < ${argument1} ? ${argument1} : ( ${argument0} > ${argument2} ? ${argument2} : ${argument0}))`;\n  return [code, Order.UNARY_POSTFIX];\n};\n\n/**\n * Generator: math_random_int\n * Random integer between two values\n */\nArduino.forBlock['math_random_int'] = function(block: Blockly.Block): [string, number] {\n  const argument0 = Arduino.valueToCode(block, 'FROM', Order.NONE) || '0';\n  const argument1 = Arduino.valueToCode(block, 'TO', Order.NONE) || '0';\n\n  const func = [\n    'int ' + Arduino.DEF_FUNC_NAME + '(int min, int max) {',\n    '  if (min > max) {',\n    '    // Swap min and max to ensure min is smaller.',\n    '    int temp = min;',\n    '    min = max;',\n    '    max = temp;',\n    '  }',\n    '  return min + (rand() % (max - min + 1));',\n    '}',\n  ];\n  const funcName = Arduino.addFunction('mathRandomInt', func.join('\\n'));\n  const code = `${funcName}(${argument0}, ${argument1})`;\n  return [code, Order.UNARY_POSTFIX];\n};\n\n/**\n * Generator: math_random_float\n * Random float between 0.0 and 1.0\n */\nArduino.forBlock['math_random_float'] = function(): [string, number] {\n  return ['(rand() / RAND_MAX)', Order.UNARY_POSTFIX];\n};\n\n/**\n * Generator: math_atan2\n * Arctangent of y/x in degrees\n */\nArduino.forBlock['math_atan2'] = function(block: Blockly.Block): [string, number] {\n  const argument0 = Arduino.valueToCode(block, 'X', Order.NONE) || '0';\n  const argument1 = Arduino.valueToCode(block, 'Y', Order.NONE) || '0';\n  const code = `atan2(${argument1}, ${argument0}) / M_PI * 180`;\n  return [code, Order.MULTIPLICATIVE];\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\nimport { Types } from '../../arduino/types';\nimport { getSelectedBoard } from '../../arduino/boards';\n\n/**\n * Arduino code generators for text blocks\n */\n\n\n/**\n * Generator: text\n * Returns quoted text string\n */\nArduino.forBlock['text'] = function(block: Blockly.Block): [string, number] {\n  const code = Arduino.quote_(block.getFieldValue('TEXT'));\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: Simpletext\n * Returns text with single quotes\n */\nArduino.forBlock['Simpletext'] = function(block: Blockly.Block): [string, number] {\n  const TEXT = block.getFieldValue('TEXT');\n  const code = `'${TEXT}'`;\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: text_join\n * Join multiple text strings\n */\nArduino.forBlock['text_join'] = function(block: Blockly.Block & { itemCount_?: number }): [string, number] {\n  let code: string;\n\n  if (block.itemCount_ === 0) {\n    return ['\"\"', Order.ATOMIC];\n  } else if (block.itemCount_ === 1) {\n    const argument0 = Arduino.valueToCode(block, 'ADD0', Order.UNARY_POSTFIX) || '\"\"';\n    code = 'String(' + argument0 + ')';\n    return [code, Order.UNARY_POSTFIX];\n  } else {\n    const parts: string[] = [];\n    for (let n = 0; n < (block.itemCount_ || 0); n++) {\n      const argument = Arduino.valueToCode(block, 'ADD' + n, Order.NONE);\n      if (argument === '') {\n        parts[n] = '\"\"';\n      } else {\n        parts[n] = 'String(' + argument + ')';\n      }\n    }\n    code = parts.join(' + ');\n    return [code, Order.UNARY_POSTFIX];\n  }\n};\n\n/**\n * Generator: text_length\n * Get length of string\n */\nArduino.forBlock['text_length'] = function(block: Blockly.Block): [string, number] {\n  const argument0 = Arduino.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX) || '\"\"';\n  const code = 'String(' + argument0 + ').length()';\n  return [code, Order.UNARY_POSTFIX];\n};\n\n/**\n * Generator: text_isEmpty\n * Check if string is empty\n */\nArduino.forBlock['text_isEmpty'] = function(block: Blockly.Block): [string, number] {\n  const func = [\n    'boolean ' + Arduino.DEF_FUNC_NAME + '(String msg) {',\n    '  if (msg.length() == 0) {',\n    '    return true;',\n    '  } else {',\n    '    return false;',\n    '  }',\n    '}',\n  ];\n  const funcName = Arduino.addFunction('dfg', func.join('\\n'));\n\n  let argument0 = Arduino.valueToCode(block, 'VALUE', Order.UNARY_POSTFIX);\n  if (argument0 === '') {\n    argument0 = '\"\"';\n  } else {\n    argument0 = 'String(' + argument0 + ')';\n  }\n  const code = funcName + '(' + argument0 + ')';\n  return [code, Order.UNARY_POSTFIX];\n};\n\n/**\n * Generator: text_append\n * Append text to a variable\n */\nArduino.forBlock['text_append'] = function(block: Blockly.Block): string {\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  ) || '\"v\"';\n  let argument0 = Arduino.valueToCode(block, 'TEXT', Order.UNARY_POSTFIX) || '\"v\"';\n  if (argument0 === '') {\n    argument0 = '\"\"';\n  } else {\n    argument0 = 'String(' + argument0 + ')';\n  }\n  return varName + ' += ' + argument0 + ';\\n';\n};\n\n/**\n * Generator: text_trim\n * Trim whitespace from string\n */\nArduino.forBlock['text_trim'] = function(block: Blockly.Block): [string, number] {\n  const OPERATORS: Record<string, string> = {\n    LEFT: '.trim()',\n    RIGHT: '.trim()',\n    BOTH: '.trim()',\n  };\n\n  const mode = block.getFieldValue('MODE');\n  const operator = OPERATORS[mode];\n  let argument0 = Arduino.valueToCode(block, 'TEXT', Order.UNARY_POSTFIX);\n\n  if (argument0 === '') {\n    argument0 = '\"\"';\n  } else {\n    argument0 = 'String(' + argument0 + ')';\n  }\n  return [argument0 + operator, Order.UNARY_POSTFIX];\n};\n\n/**\n * Generator: text_print\n * Print text to serial\n */\nArduino.forBlock['text_print'] = function(block: Blockly.Block): string {\n  const serialId = getSelectedBoard().serial[0][1];\n  const setupCode = serialId + '.begin(9600);';\n  Arduino.addSetup('serial_' + serialId, setupCode, false);\n\n  let argument0 = Arduino.valueToCode(block, 'TEXT', Order.NONE);\n  if (argument0 === '') {\n    argument0 = '\"\"';\n  } else {\n    argument0 = 'String(' + argument0 + ')';\n  }\n  return serialId + '.print(' + argument0 + ');\\n';\n};\n\n/**\n * Generator: text_prompt_ext\n * Prompt user for input (text or number)\n */\nArduino.forBlock['text_prompt_ext'] = function(block: Blockly.Block): [string, number] {\n  // Get the first Serial peripheral of arduino board\n  const serialId = getSelectedBoard().serial[0][1];\n  const returnType = block.getFieldValue('TYPE');\n\n  // The function code changes based on reading a number or string\n  const func: string[] = [];\n  const toNumber = returnType === 'NUMBER';\n\n  if (toNumber) {\n    func.push('int ' + Arduino.DEF_FUNC_NAME + '(String msg) {');\n  } else {\n    func.push('String ' + Arduino.DEF_FUNC_NAME + '(String msg) {');\n  }\n  func.push('  ' + serialId + '.println(msg);');\n  func.push('  boolean stringComplete = false;');\n\n  if (toNumber) {\n    func.push('  int content = 0;');\n  } else {\n    func.push('  String content = \"\";');\n  }\n\n  func.push('  while (stringComplete == false) {');\n  func.push('    if (' + serialId + '.available()) {');\n\n  if (toNumber) {\n    func.push('      content = ' + serialId + '.parseInt();');\n    func.push('      stringComplete = true;');\n  } else {\n    func.push('      char readChar = (char)' + serialId + '.read();');\n    func.push('      if (readChar == \\'\\\\n\\' || readChar == \\'\\\\r\\') {');\n    func.push('        stringComplete = true;');\n    func.push('      } else {');\n    func.push('        content += readChar;');\n    func.push('      }');\n  }\n\n  func.push('    }');\n  func.push('  }');\n  func.push('  // Empty incoming serial buffer');\n  func.push('  while(Serial.available()) { Serial.read(); };');\n  func.push('  return content;');\n  func.push('}');\n\n  const funcName = Arduino.addFunction(\n    'getUserInputPrompt' + returnType,\n    func.join('\\n')\n  );\n\n  // Only overwrite the serial set up if not present already\n  const setupCode = serialId + '.begin(9600);';\n  Arduino.addSetup('serial_' + serialId, setupCode, false);\n\n  const msg = Arduino.valueToCode(block, 'TEXT', Order.NONE) || '\"\"';\n  const code = funcName + '(' + msg + ')';\n\n  return [code, Order.UNARY_POSTFIX];\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\nimport { Types } from '../../arduino/types';\n\n// Helper function to check if a value is a valid number string\nconst isNumber = (value: string): boolean => {\n  return /^-?[\\d.]+(?:e-?\\d+)?$/.test(value);\n};\n\n/**\n * Arduino code generators for array/list blocks\n */\n\n/**\n * Generator: array_create_with\n * Creates an array literal: {val0, val1, ...}\n */\nArduino.forBlock['array_create_with'] = function(block: Blockly.Block): [string, number] {\n  const itemCount = (block as any).itemCount_ || 0;\n  const items: string[] = [];\n  for (let i = 0; i < itemCount; i++) {\n    items.push(Arduino.valueToCode(block, 'ADD' + i, Order.COMMA) || 'null');\n  }\n  const code = '{' + items.join(', ') + '}';\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: array_getIndex\n * Gets element at index (1-based input, converted to 0-based)\n */\nArduino.forBlock['array_getIndex'] = function(block: Blockly.Block): [string, number] {\n  let at = Arduino.valueToCode(block, 'AT', Order.UNARY_NEGATION) || '1';\n  const list = Arduino.valueToCode(block, 'VAR', Order.MEMBER) || '[]';\n\n  if (isNumber(at)) {\n    at = String(parseFloat(at) - 1);\n  }\n  const code = list + '[' + at + ']';\n  return [code, Order.MEMBER];\n};\n\n/**\n * Generator: array_modify\n * Sets array element at index: arr[index] = value;\n */\nArduino.forBlock['array_modify'] = function(block: Blockly.Block): string {\n  const index = Arduino.valueToCode(block, 'indice', Order.ATOMIC);\n  const name = Arduino.valueToCode(block, 'name', Order.ATOMIC);\n  const value = Arduino.valueToCode(block, 'value', Order.ATOMIC);\n  return name + '[' + index + '] = ' + value + ';\\n';\n};\n\n/**\n * Generator: array_declare\n * Declares a typed array variable with optional 2D support\n */\nArduino.forBlock['array_declare'] = function(block: Blockly.Block): string {\n  const argument0 = Arduino.valueToCode(block, 'contenu', Order.ASSIGNMENT);\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const typeBlock = Arduino.getArduinoType_((Types as Record<string, any>)[block.getFieldValue('type')]);\n  const choice = block.getFieldValue('choix');\n  const dimension = block.getFieldValue('dim');\n\n  switch (choice) {\n    case 'c1':\n      if (dimension === 'd2') {\n        Arduino.variables_[varName] =\n          typeBlock + ' ' + varName + '[' + argument0 + '][' + argument0 + '];';\n      } else {\n        Arduino.variables_[varName] =\n          typeBlock + ' ' + varName + '[' + argument0 + '];';\n      }\n      break;\n    case 'c2':\n      if (dimension === 'd2') {\n        const parts = argument0.split('{');\n        const nb1 = parts.length - 2;\n        const args = parts[2].split(',');\n        const nb2 = args.length - 1;\n        Arduino.variables_[varName] =\n          typeBlock + ' ' + varName + '[' + nb1 + '][' + nb2 + '] = ' + argument0 + ';';\n      } else {\n        Arduino.variables_[varName] =\n          typeBlock + ' ' + varName + '[] = ' + argument0 + ';';\n      }\n      break;\n  }\n  return '';\n};\n\n/**\n * Generator: creer_tableau\n * Creates a typed array with dynamic dimensions\n */\nArduino.forBlock['creer_tableau'] = function(block: Blockly.Block): string {\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const typeBlock = Arduino.getArduinoType_((Types as Record<string, any>)[block.getFieldValue('type')]);\n  const menu = block.getFieldValue('choix');\n  const dimension = block.getFieldValue('dim');\n  let k = '';\n  let l = '';\n\n  switch (menu) {\n    case 'c1':\n      for (let i = 0; i < dimension; i++) {\n        const j = Arduino.valueToCode(block, 'D' + i, Order.ASSIGNMENT);\n        k += '[' + j + ']';\n      }\n      Arduino.variables_[varName] = typeBlock + ' ' + varName + k + ';';\n      break;\n    case 'c2':\n      if (dimension === '1') {\n        const j = Arduino.valueToCode(block, 'D0', Order.ASSIGNMENT);\n        Arduino.variables_[varName] = typeBlock + ' ' + varName + '[] =' + j + ';';\n      } else {\n        k += '{';\n        for (let i = 0; i < dimension; i++) {\n          const j = Arduino.valueToCode(block, 'D' + i, Order.ASSIGNMENT);\n          const nb = j.split(',');\n          k += j + ',';\n          l += '[' + nb.length + ']';\n        }\n        k = k.slice(0, k.length - 1);\n        k += '}';\n        Arduino.variables_[varName] = typeBlock + ' ' + varName + l + '=' + k + ';';\n      }\n      break;\n  }\n  return '';\n};\n\n/**\n * Generator: fixer_tableau\n * Sets a value at a multi-dimensional array index\n */\nArduino.forBlock['fixer_tableau'] = function(block: Blockly.Block): string {\n  const value = Arduino.valueToCode(block, 'value', Order.ATOMIC);\n  let code = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const dimension = block.getFieldValue('dim');\n  for (let i = 0; i < dimension; i++) {\n    const j = Arduino.valueToCode(block, 'D' + i, Order.ASSIGNMENT);\n    code += '[' + j + ']';\n  }\n  code += '=' + value + ';\\n';\n  return code;\n};\n\n/**\n * Generator: tableau_getIndex\n * Gets value at a multi-dimensional array index\n */\nArduino.forBlock['tableau_getIndex'] = function(block: Blockly.Block): [string, number] {\n  let code = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const dimension = block.getFieldValue('dim');\n  for (let i = 0; i < dimension; i++) {\n    const j = Arduino.valueToCode(block, 'D' + i, Order.ASSIGNMENT);\n    code += '[' + j + ']';\n  }\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: lists_create_with\n * Standard Blockly list creation (delegates to array_create_with logic)\n */\nArduino.forBlock['lists_create_with'] = Arduino.forBlock['array_create_with'];\n\n/**\n * Generator: lists_create_empty\n * Creates an empty array initializer\n */\nArduino.forBlock['lists_create_empty'] = function(block: Blockly.Block): [string, number] {\n  return ['{}', Order.ATOMIC];\n};\n\n/**\n * Generator: lists_repeat\n * Arduino doesn't have a direct list repeat; generates a fill loop helper\n */\nArduino.forBlock['lists_repeat'] = function(block: Blockly.Block): [string, number] {\n  const item = Arduino.valueToCode(block, 'ITEM', Order.NONE) || '0';\n  const num = Arduino.valueToCode(block, 'NUM', Order.NONE) || '0';\n  // Return as an initializer list â€” limited but usable for small arrays\n  const code = '/* repeat ' + item + ' x ' + num + ' */';\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: lists_length\n * Returns array size using sizeof\n */\nArduino.forBlock['lists_length'] = function(block: Blockly.Block): [string, number] {\n  const list = Arduino.valueToCode(block, 'VALUE', Order.NONE) || '{}';\n  const code = 'sizeof(' + list + ') / sizeof(' + list + '[0])';\n  return [code, Order.FUNCTION_CALL];\n};\n\n/**\n * Generator: lists_isEmpty\n * Checks if array length is 0\n */\nArduino.forBlock['lists_isEmpty'] = function(block: Blockly.Block): [string, number] {\n  const list = Arduino.valueToCode(block, 'VALUE', Order.NONE) || '{}';\n  const code = '(sizeof(' + list + ') == 0)';\n  return [code, Order.EQUALITY];\n};\n\n/**\n * Generator: lists_getIndex\n * Gets/removes element at index (FROM_START only supported in Arduino)\n */\nArduino.forBlock['lists_getIndex'] = function(block: Blockly.Block): [string, number] | string {\n  const list = Arduino.valueToCode(block, 'VALUE', Order.MEMBER) || '{}';\n  const mode = block.getFieldValue('MODE');\n  const where = block.getFieldValue('WHERE');\n  let at = Arduino.valueToCode(block, 'AT', Order.NONE) || '1';\n\n  // Adjust 1-based to 0-based for FROM_START\n  if (where === 'FROM_START') {\n    if (isNumber(at)) {\n      at = String(parseFloat(at) - 1);\n    } else {\n      at = '(' + at + ' - 1)';\n    }\n  } else if (where === 'FIRST') {\n    at = '0';\n  } else if (where === 'LAST') {\n    at = 'sizeof(' + list + ') / sizeof(' + list + '[0]) - 1';\n  } else if (where === 'RANDOM') {\n    at = 'random(sizeof(' + list + ') / sizeof(' + list + '[0]))';\n  }\n\n  const code = list + '[' + at + ']';\n  if (mode === 'REMOVE') {\n    return code + ';\\n';\n  }\n  return [code, Order.MEMBER];\n};\n\n/**\n * Generator: lists_setIndex\n * Sets element at index\n */\nArduino.forBlock['lists_setIndex'] = function(block: Blockly.Block): string {\n  const list = Arduino.valueToCode(block, 'LIST', Order.MEMBER) || '{}';\n  const value = Arduino.valueToCode(block, 'TO', Order.NONE) || '0';\n  const where = block.getFieldValue('WHERE');\n  let at = Arduino.valueToCode(block, 'AT', Order.NONE) || '1';\n\n  if (where === 'FROM_START') {\n    if (isNumber(at)) {\n      at = String(parseFloat(at) - 1);\n    } else {\n      at = '(' + at + ' - 1)';\n    }\n  } else if (where === 'FIRST') {\n    at = '0';\n  } else if (where === 'LAST') {\n    at = 'sizeof(' + list + ') / sizeof(' + list + '[0]) - 1';\n  } else if (where === 'RANDOM') {\n    at = 'random(sizeof(' + list + ') / sizeof(' + list + '[0]))';\n  }\n\n  return list + '[' + at + '] = ' + value + ';\\n';\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\nimport { Types } from '../../arduino/types';\n\n/**\n * Arduino code generators for variable blocks\n */\n\n/**\n * Generator: variables_get\n * Returns the variable name\n */\nArduino.forBlock['variables_get'] = function(block: Blockly.Block): [string, number] {\n  const code = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: variables_set\n * Assigns a value to a variable\n */\nArduino.forBlock['variables_set'] = function(block: Blockly.Block): string {\n  const value = Arduino.valueToCode(block, 'VALUE', Order.ASSIGNMENT) || '0';\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  return varName + ' = ' + value + ';\\n';\n};\n\n/**\n * Generator: variables_set_type\n * Casts a value to a specific Arduino type\n */\nArduino.forBlock['variables_set_type'] = function(block: Blockly.Block): [string, number] {\n  const value = Arduino.valueToCode(block, 'VARIABLE_SETTYPE_INPUT', Order.ASSIGNMENT) || '0';\n  const varType = Arduino.getArduinoType_((Types as Record<string, any>)[block.getFieldValue('VARIABLE_SETTYPE_TYPE')]);\n  const code = '(' + varType + ')(' + value + ')';\n  return [code, Order.ATOMIC];\n};\n\n/**\n * Generator: variables_const\n * Declares a constant variable with a value\n */\nArduino.forBlock['variables_const'] = function(block: Blockly.Block): string {\n  const value = Arduino.valueToCode(block, 'VALUE', Order.ASSIGNMENT) || '0';\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  Arduino.variables_[varName] = 'const auto ' + varName + ' = ' + value + ';';\n  return '';\n};\n\n/**\n * Generator: variables_set_init\n * Declares a typed variable with an initial value\n */\nArduino.forBlock['variables_set_init'] = function(block: Blockly.Block): string {\n  const value = Arduino.valueToCode(block, 'VALUE', Order.ASSIGNMENT) || '0';\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const varType = Arduino.getArduinoType_((Types as Record<string, any>)[block.getFieldValue('VARIABLE_SETTYPE_TYPE')]);\n  Arduino.variables_[varName] = varType + ' ' + varName + ' = ' + value + ';';\n  return '';\n};\n\n/**\n * Generator: io_VarIN\n * Declares a const pin variable and sets pinMode INPUT\n */\nArduino.forBlock['io_VarIN'] = function(block: Blockly.Block): string {\n  const pin = block.getFieldValue('PIN') || '2';\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n\n  const pinSetupCode = '  pinMode(' + varName + ', INPUT);';\n  Arduino.addSetup('io_' + varName, pinSetupCode, false);\n\n  Arduino.variables_[varName] = 'const int ' + varName + ' = ' + pin + ';';\n  return '';\n};\n\n/**\n * Generator: io_VarOut\n * Declares a const pin variable and sets pinMode OUTPUT\n */\nArduino.forBlock['io_VarOut'] = function(block: Blockly.Block): string {\n  const pin = block.getFieldValue('PIN') || '2';\n  const varName = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR'),\n    Blockly.Names.NameType.VARIABLE\n  );\n\n  const pinSetupCode = '  pinMode(' + varName + ', OUTPUT);';\n  Arduino.addSetup('io_' + varName, pinSetupCode, false);\n\n  Arduino.variables_[varName] = 'const int ' + varName + ' = ' + pin + ';';\n  return '';\n};\n\n/**\n * Generator: io_2Var\n * Declares two const pin variables\n */\nArduino.forBlock['io_2Var'] = function(block: Blockly.Block): string {\n  const pin0 = block.getFieldValue('PIN0') || '2';\n  const varName0 = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR0'),\n    Blockly.Names.NameType.VARIABLE\n  );\n  const pin1 = block.getFieldValue('PIN1') || '3';\n  const varName1 = Arduino.nameDB_.getName(\n    block.getFieldValue('VAR1'),\n    Blockly.Names.NameType.VARIABLE\n  );\n\n  Arduino.variables_[varName0] = 'const int ' + varName0 + ' = ' + pin0 + ';';\n  Arduino.variables_[varName1] = 'const int ' + varName1 + ' = ' + pin1 + ';';\n  return '';\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\n\n/**\n * Arduino code generators for procedure/function blocks\n */\n\n/**\n * Generator: procedures_defreturn\n * Defines a function with an optional return value.\n * Also used for procedures_defnoreturn.\n */\nArduino.forBlock['procedures_defreturn'] = function(block: Blockly.Block): null {\n  const funcName = Arduino.nameDB_!.getName(\n    block.getFieldValue('NAME'),\n    Blockly.Names.NameType.PROCEDURE\n  );\n  let branch = Arduino.statementToCode(block, 'STACK');\n\n  if (Arduino.STATEMENT_PREFIX) {\n    const id = block.id.replace(/\\$/g, '$$$$');\n    branch =\n      Arduino.prefixLines(\n        Arduino.STATEMENT_PREFIX.replace(/%1/g, \"'\" + id + \"'\"),\n        Arduino.INDENT\n      ) + branch;\n  }\n  if (Arduino.INFINITE_LOOP_TRAP) {\n    branch =\n      Arduino.INFINITE_LOOP_TRAP.replace(/%1/g, \"'\" + block.id + \"'\") + branch;\n  }\n\n  let returnValue = Arduino.valueToCode(block, 'RETURN', Order.NONE) || '';\n  if (returnValue) {\n    returnValue = Arduino.INDENT + 'return ' + returnValue + ';\\n';\n  }\n\n  const returnType = returnValue ? 'int' : 'void';\n  const args: string[] = [];\n  for (let i = 0; i < (block as any).arguments_.length; i++) {\n    args[i] =\n      'int ' +\n      Arduino.nameDB_!.getName(\n        (block as any).arguments_[i],\n        Blockly.Names.NameType.VARIABLE\n      );\n  }\n\n  let code =\n    returnType +\n    ' ' +\n    funcName +\n    '(' +\n    args.join(', ') +\n    ') {\\n' +\n    branch +\n    returnValue +\n    '}\\n';\n  code = Arduino.scrub_(block, code);\n\n  // Add with % prefix so it doesn't collide with helper functions\n  Arduino.addDeclaration('%' + funcName, code);\n  return null;\n};\n\n/**\n * Generator: procedures_defnoreturn\n * Delegates to procedures_defreturn (same logic, void return)\n */\nArduino.forBlock['procedures_defnoreturn'] = Arduino.forBlock['procedures_defreturn'];\n\n/**\n * Generator: procedures_callreturn\n * Calls a function and returns its value\n */\nArduino.forBlock['procedures_callreturn'] = function(block: Blockly.Block): [string, number] {\n  const funcName = Arduino.nameDB_!.getName(\n    block.getFieldValue('NAME'),\n    Blockly.Names.NameType.PROCEDURE\n  );\n  const args: string[] = [];\n  for (let i = 0; i < (block as any).arguments_.length; i++) {\n    args[i] = Arduino.valueToCode(block, 'ARG' + i, Order.COMMA) || 'null';\n  }\n  const code = funcName + '(' + args.join(', ') + ')';\n  return [code, Order.FUNCTION_CALL];\n};\n\n/**\n * Generator: procedures_callnoreturn\n * Calls a function without capturing a return value\n */\nArduino.forBlock['procedures_callnoreturn'] = function(block: Blockly.Block): string {\n  const funcName = Arduino.nameDB_!.getName(\n    block.getFieldValue('NAME'),\n    Blockly.Names.NameType.PROCEDURE\n  );\n  const args: string[] = [];\n  for (let i = 0; i < (block as any).arguments_.length; i++) {\n    args[i] = Arduino.valueToCode(block, 'ARG' + i, Order.COMMA) || 'null';\n  }\n  return funcName + '(' + args.join(', ') + ');\\n';\n};\n\n/**\n * Generator: procedures_ifreturn\n * Conditionally returns a value from a function\n */\nArduino.forBlock['procedures_ifreturn'] = function(block: Blockly.Block): string {\n  const condition = Arduino.valueToCode(block, 'CONDITION', Order.NONE) || 'false';\n  let code = 'if (' + condition + ') {\\n';\n  if ((block as any).hasReturnValue_) {\n    const value = Arduino.valueToCode(block, 'VALUE', Order.NONE) || 'null';\n    code += Arduino.INDENT + 'return ' + value + ';\\n';\n  } else {\n    code += Arduino.INDENT + 'return;\\n';\n  }\n  code += '}\\n';\n  return code;\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order, PinTypes } from '../../arduino/generator';\n\n// === Basic generators ===\n\nArduino.forBlock['base_begin'] = function (block: Blockly.Block): string {\n  const branch = Arduino.statementToCode(block, 'base_begin');\n  Arduino.addSetup('base_begin_' + block.id, branch, true);\n  return '';\n};\n\nArduino.forBlock['base_setup'] = function (block: Blockly.Block): string {\n  const branch = Arduino.statementToCode(block, 'DO');\n  Arduino.addSetup('base_setup_' + block.id, branch, true);\n  return '';\n};\n\nArduino.forBlock['pinmode'] = function (block: Blockly.Block): [string, number] {\n  return [block.getFieldValue('PINMODE'), Order.ATOMIC];\n};\n\nArduino.forBlock['base_define_name'] = function (block: Blockly.Block): [string, number] {\n  const code = block.getFieldValue('NAME');\n  return [code, Order.ATOMIC];\n};\n\nArduino.forBlock['base_define'] = function (block: Blockly.Block): string {\n  const name = Arduino.valueToCode(block, 'NAME', Order.ATOMIC);\n  const pin = block.getFieldValue('PIN');\n  Arduino.addInclude(name, `#define ${name} ${pin}`);\n  return '';\n};\n\nArduino.forBlock['base_loop'] = function (block: Blockly.Block): string {\n  const targetBlock = block.getInputTargetBlock('LOOP_FUNC');\n  const loopBranch = targetBlock ? (Arduino.blockToCode(targetBlock) as string) : '';\n  if (loopBranch) {\n    Arduino.addLoop('userLoopCode', loopBranch, true);\n  }\n  return '';\n};\n\nArduino.forBlock['base_setup_loop'] = function (block: Blockly.Block): string {\n  const setupBranch = Arduino.statementToCode(block, 'SETUP_FUNC') as string;\n  if (setupBranch) {\n    Arduino.addSetup('userSetupCode', setupBranch, true);\n  }\n  const targetBlock = block.getInputTargetBlock('LOOP_FUNC');\n  const loopBranch = targetBlock ? (Arduino.blockToCode(targetBlock) as string) : '';\n  return loopBranch;\n};\n\nArduino.forBlock['base_define_bloc'] = function (block: Blockly.Block): string {\n  const branch = Arduino.statementToCode(block, 'DO') as string;\n  Arduino.addVariable('base_define_bloc_' + block.id, branch, true);\n  return '';\n};\n\nArduino.forBlock['base_code'] = function (block: Blockly.Block): string {\n  return block.getFieldValue('TEXT') + '\\n';\n};\n\nArduino.forBlock['base_comment'] = function (block: Blockly.Block): string {\n  return '// ' + block.getFieldValue('TEXT') + '\\n';\n};\n\nArduino.forBlock['base_end'] = function (_block: Blockly.Block): string {\n  return 'while(true);\\n';\n};\n\n// === I/O generators ===\n\nArduino.forBlock['io_digitalwrite_Var'] = function (block: Blockly.Block): string {\n  const pin = Arduino.valueToCode(block, 'VAR', Order.ATOMIC);\n  const stateOutput = block.getFieldValue('STATE') || 'LOW';\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, OUTPUT);`, false);\n  return `digitalWrite(${pin}, ${stateOutput});\\n`;\n};\n\nArduino.forBlock['io_digitalwrite'] = function (block: Blockly.Block): string {\n  const pin = block.getFieldValue('PIN');\n  const stateOutput = Arduino.valueToCode(block, 'STATE', Order.ATOMIC) || 'LOW';\n  Arduino.reservePin(block, pin, PinTypes.OUTPUT, 'Digital Write');\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, OUTPUT);`, false);\n  return `digitalWrite(${pin}, ${stateOutput});\\n`;\n};\n\nArduino.forBlock['io_digitalreadVar'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('VAR');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'Digital Read');\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, INPUT);`, false);\n  return [`digitalRead(${pin})`, Order.ATOMIC];\n};\n\nArduino.forBlock['io_digitalread'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'Digital Read');\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, INPUT);`, false);\n  return [`digitalRead(${pin})`, Order.ATOMIC];\n};\n\nArduino.forBlock['io_builtin_led'] = function (block: Blockly.Block): string {\n  const pin = block.getFieldValue('BUILT_IN_LED');\n  const stateOutput = block.getFieldValue('STATE');\n  Arduino.reservePin(block, pin, PinTypes.OUTPUT, 'Set LED');\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, OUTPUT);`, false);\n  return `digitalWrite(${pin}, ${stateOutput});\\n`;\n};\n\nArduino.forBlock['io_analogwrite'] = function (block: Blockly.Block): string {\n  const pin = block.getFieldValue('PIN');\n  const stateOutput = Arduino.valueToCode(block, 'NUM', Order.ATOMIC) || '0';\n  Arduino.reservePin(block, pin, PinTypes.OUTPUT, 'Analogue Write');\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, OUTPUT);`, false);\n  const numVal = Number(stateOutput);\n  if (!isNaN(numVal) && (numVal < 0 || numVal > 255)) {\n    block.setWarningText('The analogue value set must be between 0 and 255', 'pwm_value');\n  } else {\n    block.setWarningText(null, 'pwm_value');\n  }\n  return `analogWrite(${pin}, ${stateOutput});\\n`;\n};\n\nArduino.forBlock['io_analogreadVar'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('VAR');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'Analogue Read');\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, INPUT);`, false);\n  return [`analogRead(${pin})`, Order.ATOMIC];\n};\n\nArduino.forBlock['io_analogread'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'Analogue Read');\n  Arduino.addSetup('io_' + pin, `  pinMode(${pin}, INPUT);`, false);\n  return [`analogRead(${pin})`, Order.ATOMIC];\n};\n\nArduino.forBlock['io_highlow'] = function (block: Blockly.Block): [string, number] {\n  return [block.getFieldValue('STATE'), Order.ATOMIC];\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\n\nArduino.forBlock['millis'] = function (_block: Blockly.Block): [string, number] {\n  return ['millis()', Order.ATOMIC];\n};\n\nArduino.forBlock['micros'] = function (_block: Blockly.Block): [string, number] {\n  return ['micros()', Order.ATOMIC];\n};\n\nArduino.forBlock['millis_sec'] = function (_block: Blockly.Block): [string, number] {\n  return ['millis()/1000', Order.ATOMIC];\n};\n\nArduino.forBlock['base_delay'] = function (block: Blockly.Block): string {\n  const delayTime = Arduino.valueToCode(block, 'DELAY_TIME', Order.ATOMIC);\n  return `delay(${delayTime});\\n`;\n};\n\nArduino.forBlock['base_delay_sec'] = function (block: Blockly.Block): string {\n  const delayTime = Arduino.valueToCode(block, 'DELAY_TIME', Order.ATOMIC);\n  return `delay(${delayTime} * 1000);\\n`;\n};\n\nArduino.forBlock['tempo_no_delay'] = function (block: Blockly.Block): string {\n  const unit = block.getFieldValue('unite');\n  const delayTime = Arduino.valueToCode(block, 'DELAY_TIME', Order.ATOMIC);\n  const body = Arduino.statementToCode(block, 'branche') as string;\n  const temps = 'temps' + delayTime;\n  Arduino.addDeclaration('temporisation' + delayTime, `long ${temps} = 0;`);\n\n  let code: string;\n  switch (unit) {\n    case 'us':\n      code = `if ((micros()-${temps}>=${delayTime}) {\\n  ${temps}=micros();\\n${body}}\\n`;\n      break;\n    case 'ms':\n      code = `if ((millis()-${temps}>=${delayTime}) {\\n  ${temps}=millis();\\n${body}}\\n`;\n      break;\n    case 's':\n      code = `if ((millis()-${temps}>=${delayTime}*1000) {\\n  ${temps}=millis();\\n${body}}\\n`;\n      break;\n    default:\n      code = '';\n  }\n  return code;\n};\n\nArduino.forBlock['io_pulsein'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  const stat = block.getFieldValue('STAT');\n  Arduino.addSetup('setup_input_' + pin, `pinMode(${pin}, INPUT);`, true);\n  return [`pulseIn(${pin},${stat})`, Order.ATOMIC];\n};\n\nArduino.forBlock['io_pulsein_timeout'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  const stat = block.getFieldValue('STAT');\n  const timeout = Arduino.valueToCode(block, 'TIMEOUT', Order.ATOMIC) || '0';\n  Arduino.addSetup('setup_input_' + pin, `pinMode(${pin}, INPUT);`, true);\n  return [`pulseIn(${pin}, ${stat}, ${timeout})`, Order.ATOMIC];\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\n\nArduino.forBlock['serial_init'] = function (block: Blockly.Block): string {\n  const speed = block.getFieldValue('SPEED');\n  const serial = block.getFieldValue('SERIAL');\n  Arduino.addSetup('setup_serial_speed', `  ${serial}.begin(${speed});`, true);\n  return '';\n};\n\nArduino.forBlock['serial_receive'] = function (_block: Blockly.Block): [string, number] {\n  return ['Serial.available() > 0', Order.ATOMIC];\n};\n\nArduino.forBlock['serial_receive_byte'] = function (_block: Blockly.Block): [string, number] {\n  return ['Serial.read()', Order.ATOMIC];\n};\n\nArduino.forBlock['serial_write'] = function (block: Blockly.Block): string {\n  const argument0 = Arduino.valueToCode(block, 'SERIAL', Order.UNARY_POSTFIX);\n  return `Serial.write(${argument0});\\n`;\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order, PinTypes } from '../../arduino/generator';\n\nArduino.forBlock['led_digitalwrite'] = function (block: Blockly.Block): string {\n  const pin = block.getFieldValue('PIN');\n  const stateOutput = block.getFieldValue('STATE') || 'LOW';\n  Arduino.reservePin(block, pin, PinTypes.OUTPUT, 'LED');\n  if (pin !== 'j' && pin !== 'i') {\n    Arduino.addSetup('io_' + pin, `  pinMode(${pin}, OUTPUT);`, false);\n  }\n  return `digitalWrite(${pin}, ${stateOutput});\\n`;\n};\n\nArduino.forBlock['lcd_i2c_lcdinit'] = function (block: Blockly.Block): string {\n  const address = block.getFieldValue('ADD') || '0x27';\n  const size = block.getFieldValue('SIZE') || '16x2';\n  const cursor = block.getFieldValue('Cr');\n\n  // Parse size (e.g., \"16x2\" -> cols=16, rows=2)\n  const [cols, rows] = size.split('x').map((s: string) => s.trim());\n\n  Arduino.addInclude('define_Wire', '#include <Wire.h>');\n  Arduino.addInclude('define_LiquidCrystal_I2C', '#include <LiquidCrystal_I2C.h>');\n  Arduino.addDeclaration('var_lcd', `LiquidCrystal_I2C lcd(${address}, ${cols}, ${rows});`);\n\n  let setup = '  lcd.init();\\n';\n  setup += '  lcd.backlight();\\n';\n  setup += '  lcd.noBlink();\\n';\n  if (cursor === 'TRUE') {\n    setup += '  lcd.cursor();\\n';\n  } else {\n    setup += '  lcd.noCursor();\\n';\n  }\n  Arduino.addSetup('setup_lcd', setup, true);\n  return '';\n};\n\nArduino.forBlock['lcd_i2c_lcdclear'] = function (_block: Blockly.Block): string {\n  return 'lcd.clear();\\n';\n};\n\nArduino.forBlock['lcd_i2c_lcdwrite'] = function (block: Blockly.Block): string {\n  const text = Arduino.valueToCode(block, 'TEXT', Order.UNARY_POSTFIX) || \"''\";\n  const col = block.getFieldValue('Col');\n  const row = block.getFieldValue('Row');\n  return `lcd.setCursor(${col},${row});\\nlcd.print(${text});\\n`;\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order, PinTypes } from '../../arduino/generator';\n\nArduino.forBlock['Ultrasonic'] = function (block: Blockly.Block): string {\n  const trigPin = block.getFieldValue('PIN0') || '2';\n  const echoPin = block.getFieldValue('PIN1') || '3';\n  const name = block.getField('VAR')?.getText() || 'myUltrasonic';\n\n  Arduino.reservePin(block, trigPin, PinTypes.OUTPUT, 'Ultrasonic Trig');\n  Arduino.reservePin(block, echoPin, PinTypes.INPUT, 'Ultrasonic Echo');\n  Arduino.addInclude('includes_' + name, '#include <HCSR04.h>');\n  Arduino.addDeclaration('var_' + name, `HCSR04 ${name}(${trigPin},${echoPin});`);\n  Arduino.addVariable(name + '1', `const int ${name}_Trig = ${trigPin};`, true);\n  Arduino.addVariable(name + '2', `const int ${name}_Echo = ${echoPin};`, true);\n  Arduino.addSetup('setup_input_' + trigPin, `  pinMode(${name}_Trig, OUTPUT);`, true);\n  Arduino.addSetup('setup_input_' + echoPin, `  pinMode(${name}_Echo, INPUT);`, true);\n  return '';\n};\n\nArduino.forBlock['Ultrasonic_read'] = function (block: Blockly.Block): [string, number] {\n  const name = block.getField('VAR')?.getText() || 'myUltrasonic';\n  Arduino.addVariable('var1' + name, `int Distance_${name};`, true);\n  Arduino.addLoopCode('var2' + name, `Distance_${name} = ${name}.dist();`);\n  return [`Distance_${name}`, Order.ATOMIC];\n};\n\nArduino.forBlock['SENSOR_lm35'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'LM35');\n  Arduino.addVariable('var_' + pin, `float Vout_${pin};`, true);\n  Arduino.addVariable('var1' + pin, `float Temp_${pin};`, true);\n  Arduino.addSetup('lm35', 'analogReference(INTERNAL);', true);\n  Arduino.addLoopCode('var1' + pin, `Vout_${pin} = analogRead(${pin});`);\n  Arduino.addLoopCode('var2' + pin, `Temp_${pin} = (Vout_${pin}*500/1023);`);\n  return [`Temp_${pin}`, Order.ATOMIC];\n};\n\nArduino.forBlock['SENSOR_dht11'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  const choice = block.getFieldValue('choix');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'DHT11');\n  Arduino.addInclude('dht.h', '#include <DHT.h>');\n  Arduino.addDeclaration('dht', `DHT dht(${pin}, DHT11);`);\n  Arduino.addSetup('dht', '  dht.begin();', true);\n\n  let code: string;\n  if (choice === 'h') {\n    Arduino.addVariable('var1' + pin, `float Hum_${pin};`, true);\n    Arduino.addLoopCode('var1' + pin, `Hum_${pin} = dht.readHumidity();`);\n    code = `Hum_${pin}`;\n  } else {\n    Arduino.addVariable('var2' + pin, `float Tmp_${pin};`, true);\n    Arduino.addLoopCode('var2' + pin, `Tmp_${pin} = dht.readTemperature();`);\n    code = `Tmp_${pin}`;\n  }\n  return [code, Order.ATOMIC];\n};\n\nArduino.forBlock['SENSOR_line_follower'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'Line Follower');\n  Arduino.addSetup('setup_input_' + pin, `  pinMode(${pin}, INPUT);`, true);\n  return [`digitalRead(${pin}) == HIGH`, Order.ATOMIC];\n};\n\nArduino.forBlock['SENSOR_light_sensor'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'Light Sensor');\n  Arduino.addVariable('var_' + pin, `int LDRValue_${pin} = 0;`, true);\n  Arduino.addLoopCode('var1' + pin, `LDRValue_${pin} = analogRead(${pin});`);\n  return [`LDRValue_${pin}`, Order.ATOMIC];\n};\n\nArduino.forBlock['SENSOR_PIR'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  Arduino.reservePin(block, pin, PinTypes.INPUT, 'PIR');\n  Arduino.addVariable('var_' + pin, `bool motionState_${pin} = false;`, true);\n  Arduino.addLoopCode('var1' + pin, `motionState_${pin} = digitalRead(${pin});`);\n  return [`motionState_${pin}`, Order.ATOMIC];\n};\n\nArduino.forBlock['RFID_module'] = function (block: Blockly.Block): string {\n  const csPin = block.getFieldValue('CS_PIN') || '10';\n  const rstPin = block.getFieldValue('RST_PIN') || '9';\n\n  Arduino.reservePin(block, csPin, PinTypes.SPI, 'RFID CS');\n  Arduino.reservePin(block, rstPin, PinTypes.SPI, 'RFID RST');\n  Arduino.addInclude('rfid', '#include <SPI.h>');\n  Arduino.addInclude('rfid_mfrc522', '#include <MFRC522.h>');\n  Arduino.addDeclaration('rfid_module', `MFRC522 mfrc522(${csPin}, ${rstPin});`);\n  Arduino.addSetup('rfid_init', '  SPI.begin();', true);\n  Arduino.addSetup('rfid_init2', '  mfrc522.PCD_Init();', true);\n\n  return '';\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, PinTypes } from '../../arduino/generator';\n\nArduino.forBlock['motor_servo'] = function (block: Blockly.Block): string {\n  const command = block.getFieldValue('COMMAND') || 'init';\n  const varName = block.getField('VAR')?.getText() || 'myServo';\n\n  if (!varName.trim()) {\n    return '// Error: Servo variable name cannot be empty\\n';\n  }\n\n  switch (command) {\n    case 'init': {\n      const pin = block.getFieldValue('PIN') || '9';\n      Arduino.reservePin(block, pin, PinTypes.SERVO, 'Servo');\n      Arduino.addInclude('include-Servo', '#include <Servo.h>');\n      Arduino.addDeclaration('define_Servo_' + varName, `Servo ${varName};`);\n      Arduino.addSetup('setup_Servo_' + varName, `  ${varName}.attach(${pin});`, true);\n      return '';\n    }\n    case 'write': {\n      block.setWarningText(null, 'Servo');\n      const angle = block.getFieldValue('ANGLE') ?? 90;\n      return `${varName}.write(${angle});\\n`;\n    }\n    case 'attach':\n      block.setWarningText(null, 'Servo');\n      return `${varName}.attach();\\n`;\n    case 'detach':\n      block.setWarningText(null, 'Servo');\n      return `${varName}.detach();\\n`;\n    default:\n      return '';\n  }\n};\n\nArduino.forBlock['DC_Motor'] = function (block: Blockly.Block): string {\n  const command = block.getFieldValue('COMMAND') || 'init';\n  const varName = block.getField('VAR')?.getText() || 'MT';\n\n  if (command === 'init') {\n    const pin0 = block.getFieldValue('PIN0');\n    const pin1 = block.getFieldValue('PIN1');\n    const pin2 = block.getFieldValue('PIN2');\n    const pin3 = block.getFieldValue('PIN3');\n\n    Arduino.reservePin(block, pin0, PinTypes.OUTPUT, 'DC Motor A1');\n    Arduino.reservePin(block, pin1, PinTypes.OUTPUT, 'DC Motor A2');\n    Arduino.reservePin(block, pin2, PinTypes.OUTPUT, 'DC Motor B1');\n    Arduino.reservePin(block, pin3, PinTypes.OUTPUT, 'DC Motor B2');\n    Arduino.addInclude('init-motor',\n      `int ${varName}A1  = ${pin0};\\nint ${varName}A2 = ${pin1};\\nint ${varName}B1 = ${pin2};\\nint ${varName}B2 = ${pin3};`\n    );\n\n    Arduino.addSetup('setup_motor',\n      `pinMode(${varName}A1, OUTPUT);\\n  pinMode(${varName}A2, OUTPUT);\\n  pinMode(${varName}B1, OUTPUT);\\n  pinMode(${varName}B2, OUTPUT);`,\n      true\n    );\n\n    Arduino.addFunction('FuncForward',\n      `void ${varName}_Forward(){\\n  digitalWrite(${varName}A1, LOW);\\n  digitalWrite(${varName}A2, HIGH);\\n  digitalWrite(${varName}B1, LOW);\\n  digitalWrite(${varName}B2, HIGH);\\n}`\n    );\n    Arduino.addFunction('FuncBackward',\n      `void ${varName}_Backward(){\\n  digitalWrite(${varName}A1, HIGH);\\n  digitalWrite(${varName}A2, LOW);\\n  digitalWrite(${varName}B1, HIGH);\\n  digitalWrite(${varName}B2, LOW);\\n}`\n    );\n    Arduino.addFunction('FuncLeft',\n      `void ${varName}_Left(){\\n  digitalWrite(${varName}A1, HIGH);\\n  digitalWrite(${varName}A2, LOW);\\n  digitalWrite(${varName}B1, LOW);\\n  digitalWrite(${varName}B2, HIGH);\\n}`\n    );\n    Arduino.addFunction('FuncRight',\n      `void ${varName}_Right(){\\n  digitalWrite(${varName}A1, LOW);\\n  digitalWrite(${varName}A2, HIGH);\\n  digitalWrite(${varName}B1, HIGH);\\n  digitalWrite(${varName}B2, LOW);\\n}`\n    );\n    Arduino.addFunction('FuncStop',\n      `void ${varName}_Stop(){\\n  digitalWrite(${varName}A1, LOW);\\n  digitalWrite(${varName}A2, LOW);\\n  digitalWrite(${varName}B1, LOW);\\n  digitalWrite(${varName}B2, LOW);\\n}`\n    );\n\n    return '';\n  }\n\n  // Forward, Backward, Left, Right, Stop\n  block.setWarningText(null, 'DC Motor');\n  return `${varName}_${command}();\\n`;\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order } from '../../arduino/generator';\n\nArduino.forBlock['switch_button_read'] = function (block: Blockly.Block): [string, number] {\n  const pin = block.getFieldValue('PIN');\n  Arduino.addVariable('button' + pin, `bool buttonState_${pin} = false;`, true);\n  Arduino.addLoopCode('button1' + pin, `buttonState_${pin} = digitalRead(${pin});`);\n  return [`buttonState_${pin}`, Order.ATOMIC];\n};\n","import * as Blockly from 'blockly/core';\nimport { arduinoGenerator as Arduino, Order, PinTypes } from '../../arduino/generator';\n\nArduino.forBlock['bluetooth_init'] = function (block: Blockly.Block): string {\n  const pin0 = block.getFieldValue('PIN0');\n  const pin1 = block.getFieldValue('PIN1');\n  const speed = block.getFieldValue('SPEED');\n\n  Arduino.reservePin(block, pin0, PinTypes.SERIAL, 'Bluetooth TX');\n  Arduino.reservePin(block, pin1, PinTypes.SERIAL, 'Bluetooth RX');\n  Arduino.addInclude('bluetooth_Soft', '#include <SoftwareSerial.h>');\n  Arduino.addInclude('bluetooth_init', `SoftwareSerial BT(${pin1}, ${pin0}); // RX, TX`);\n  Arduino.addSetup('setup_bluetooth', `  BT.begin(${speed});`, true);\n  return '';\n};\n\nArduino.forBlock['bluetooth_receive'] = function (_block: Blockly.Block): [string, number] {\n  return ['BT.available() > 0', Order.ATOMIC];\n};\n\nArduino.forBlock['bluetooth_receive_byte'] = function (_block: Blockly.Block): [string, number] {\n  return ['BT.read()', Order.ATOMIC];\n};\n\nArduino.forBlock['bluetooth_write'] = function (block: Blockly.Block): string {\n  const argument0 = Arduino.valueToCode(block, 'BT', Order.UNARY_POSTFIX);\n  return `BT.write(${argument0});\\n`;\n};\n"],"mappings":";;;;;;;;;;AAWA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAAwC;AACnF,QAAM,OAAO,MAAM,cAAc,MAAM,MAAM,SAAS,SAAS;AAC/D,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,qBAAqB,IAAI,SAAS,OAAwC;AACzF,MAAI,YAAY,iBAAQ,YAAY,OAAO,mBAAiB,KAAK;AACjE,MAAI,YAAY,iBAAQ,YAAY,OAAO,mBAAiB,KAAK;AAEjE,QAAM,OAAO,GAAG,SAAS,OAAO,SAAS;AACzC,SAAO,CAAC,0BAAuB;AACjC;AAMA,iBAAQ,SAAS,oBAAoB,IAAI,SAAS,OAAwC;AACxF,MAAI,YAAY,iBAAQ,YAAY,OAAO,wBAAqB,KAAK;AACrE,MAAI,YAAY,iBAAQ,YAAY,OAAO,wBAAqB,KAAK;AAErE,QAAM,OAAO,GAAG,SAAS,OAAO,SAAS;AACzC,SAAO,CAAC,yBAAsB;AAChC;AAMA,iBAAQ,SAAS,iBAAiB,IAAI,SAAS,OAAwC;AACrF,QAAM,WAAW,MAAM,cAAc,IAAI,MAAM,QAAQ,OAAO;AAC9D,QAAM,QAAQ,aAAa;AAE3B,MAAI,YAAY,iBAAQ,YAAY,OAAO,KAAK,KAAK,KAAK;AAC1D,MAAI,YAAY,iBAAQ,YAAY,OAAO,KAAK,KAAK,KAAK;AAE1D,QAAM,OAAO,GAAG,SAAS,IAAI,QAAQ,IAAI,SAAS;AAClD,SAAO,CAAC,MAAM,KAAK;AACrB;AAMA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAAwC;AACnF,QAAM,YAAoC;AAAA,IACxC,IAAI;AAAA,IACJ,KAAK;AAAA,IACL,IAAI;AAAA,IACJ,KAAK;AAAA,IACL,IAAI;AAAA,IACJ,KAAK;AAAA,EACP;AAEA,QAAM,WAAW,UAAU,MAAM,cAAc,IAAI,CAAC;AACpD,QAAM,QAAQ,aAAa,QAAQ,aAAa;AAIhD,QAAM,YAAY,iBAAQ,YAAY,OAAO,KAAK,KAAK,KAAK;AAC5D,QAAM,YAAY,iBAAQ,YAAY,OAAO,KAAK,KAAK,KAAK;AAE5D,QAAM,OAAO,GAAG,SAAS,IAAI,QAAQ,IAAI,SAAS;AAClD,SAAO,CAAC,MAAM,KAAK;AACrB;AAMA,iBAAQ,SAAS,cAAc,IAAI,SAAS,OAAwC;AAClF,QAAM;AACN,QAAM,YAAY,iBAAQ,YAAY,OAAO,QAAQ,KAAK,KAAK;AAC/D,QAAM,OAAO,IAAI,SAAS;AAC1B,SAAO,CAAC,MAAM,KAAK;AACrB;AAMA,iBAAQ,SAAS,YAAY,IAAI,SAAS,OAAwC;AAChF,QAAM,OAAO;AACb,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAAwC;AACnF,QAAM,UAAU,iBAAQ,YAAY,OAAO,0BAAuB,KAAK;AACvE,QAAM,YAAY,iBAAQ,YAAY,OAAO,4BAAyB,KAAK;AAC3E,QAAM,YAAY,iBAAQ,YAAY,OAAO,4BAAyB,KAAK;AAE3E,QAAM,OAAO,GAAG,OAAO,MAAM,SAAS,MAAM,SAAS;AACrD,SAAO,CAAC,0BAAuB;AACjC;;;AChHA,YAAY,aAAa;AAIzB,IAAM,WAAW,CAAC,UAA2B;AAC3C,SAAO,wBAAwB,KAAK,KAAK;AAC3C;AAUA,iBAAQ,SAAS,aAAa,IAAI,SAAS,OAA8B;AACvE,MAAI,IAAI;AACR,MAAI,WAAW,iBAAQ,YAAY,OAAO,OAAO,gBAAa,KAAK;AACnE,MAAI,SAAS,iBAAQ,gBAAgB,OAAO,OAAO,CAAC;AACpD,MAAI,OAAO,OAAO,QAAQ;AAAA,EAAQ,MAAM;AAAA;AAGxC,OAAK,IAAI,GAAG,KAAM,MAAc,cAAc,KAAK;AACjD,eAAW,iBAAQ,YAAY,OAAO,OAAO,gBAAa,KAAK;AAC/D,aAAS,iBAAQ,gBAAgB,OAAO,OAAO,CAAC;AAChD,YAAQ,aAAa,QAAQ;AAAA,EAAQ,MAAM;AAAA,EAC7C;AAGA,MAAK,MAAc,YAAY;AAC7B,aAAS,iBAAQ,gBAAgB,OAAO,MAAM;AAC9C,YAAQ;AAAA,EAAY,MAAM;AAAA;AAAA,EAC5B;AAEA,SAAO,OAAO;AAChB;AAMA,iBAAQ,SAAS,iBAAiB,IAAI,SAAS,OAA8B;AAC3E,QAAM,UAAU,MAAM,cAAc,OAAO;AAC3C,MAAI,SAAS,iBAAQ,gBAAgB,OAAO,IAAI;AAEhD,MAAI,iBAAQ,oBAAoB;AAC9B,aAAS,iBAAQ,mBAAmB,QAAQ,OAAO,IAAI,MAAM,EAAE,GAAG,IAAI;AAAA,EACxE;AAEA,QAAM,UAAU,iBAAQ,QAAS,gBAAgB,SAAiB,cAAM,SAAS,QAAQ;AACzF,QAAM,OAAO,YAAY,OAAO,SAAS,OAAO,MAAM,OAAO,KAAK,OAAO;AAAA,EAAU,MAAM;AAAA;AAEzF,SAAO;AACT;AAMA,iBAAQ,SAAS,qBAAqB,IAAI,SAAS,OAA8B;AAC/E,QAAM,UAAU,iBAAQ,YAAY,OAAO,4BAAyB,KAAK;AACzE,MAAI,SAAS,iBAAQ,gBAAgB,OAAO,IAAI;AAEhD,MAAI,iBAAQ,oBAAoB;AAC9B,aAAS,iBAAQ,mBAAmB,QAAQ,OAAO,IAAI,MAAM,EAAE,GAAG,IAAI;AAAA,EACxE;AAEA,QAAM,UAAU,iBAAQ,QAAQ,QAAQ,SAAiB,cAAM,SAAS,QAAQ;AAChF,QAAM,OAAO,YAAY,OAAO,SAAS,OAAO,MAAM,OAAO,KAAK,OAAO;AAAA,EAAU,MAAM;AAAA;AAEzF,SAAO;AACT;AAMA,iBAAQ,SAAS,qBAAqB,IAAI,SAAS,OAA8B;AAC/E,MAAI,YAAY,iBAAQ,YAAY,OAAO,qBAAkB,KAAK;AAClE,MAAI,SAAS,iBAAQ,gBAAgB,OAAO,IAAI;AAEhD,MAAI,iBAAQ,oBAAoB;AAC9B,aAAS,iBAAQ,mBAAmB,QAAQ,OAAO,IAAI,MAAM,EAAE,GAAG,IAAI;AAAA,EACxE;AAEA,MAAI,MAAM,cAAc,MAAM,MAAM,SAAS;AAC3C,QAAI,CAAC,UAAU,MAAM,OAAO,GAAG;AAC7B,kBAAY,IAAI,SAAS;AAAA,IAC3B;AACA,gBAAY,IAAI,SAAS;AAAA,EAC3B;AAEA,SAAO,UAAU,SAAS;AAAA,EAAQ,MAAM;AAAA;AAC1C;AAMA,iBAAQ,SAAS,cAAc,IAAI,SAAS,OAA8B;AACxE,QAAM,YAAY,iBAAQ,QAAQ;AAAA,IAChC,MAAM,cAAc,KAAK;AAAA,IACjB,cAAM,SAAS;AAAA,EACzB;AACA,QAAM,YAAY,iBAAQ,YAAY,OAAO,2BAAwB,KAAK;AAC1E,QAAM,YAAY,iBAAQ,YAAY,OAAO,yBAAsB,KAAK;AACxE,QAAM,YAAY,iBAAQ,YAAY,OAAO,yBAAsB,KAAK;AAExE,MAAI,SAAS,iBAAQ,gBAAgB,OAAO,IAAI;AAChD,WAAS,iBAAQ,YAAY,QAAQ,KAAK;AAE1C,MAAI,OAAO;AAGX,MAAI,iBAAiB;AACrB,MAAI,QAAQ,MAAM,YAAY,KAAK,EAAE,CAAC;AACtC,SAAO,SAAS,MAAM;AACpB,sBAAkB,MAAM,OAAO;AAC/B,YAAQ,MAAM,aAAa;AAAA,EAC7B;AAEA,MAAI,eAAe,SAAS,cAAc,GAAG;AAC3C,UAAM,KAAK,WAAW,SAAS,KAAK,WAAW,SAAS;AACxD,QAAI,YAAY,cAAc,SAAS,MAAM,SAAS,KAAK,SAAS,GAClE,KAAK,SAAS,MAChB,GAAG,SAAS,KAAK,SAAS;AAE1B,UAAM,OAAO,KAAK,IAAI,WAAW,SAAS,CAAC;AAC3C,QAAI,SAAS,GAAG;AACd,mBAAa,KAAK,OAAO;AAAA,IAC3B,OAAO;AACL,oBAAc,KAAK,SAAS,UAAU;AAAA,IACxC;AACA,iBAAa;AAAA,cAAoB,SAAS;AAAA;AAAA;AAE1C,qBAAQ,SAAS,QAAQ,WAAW,WAAW,KAAK;AAAA,EACtD;AAGA,MAAI,SAAS,SAAS,KAAK,SAAS,SAAS,KAAK,SAAS,SAAS,GAAG;AACrE,UAAM,KAAK,WAAW,SAAS,KAAK,WAAW,SAAS;AACxD,WAAO,YAAY,SAAS,MAAM,SAAS,KAAK,SAAS,GACvD,KAAK,SAAS,MAChB,GAAG,SAAS,KAAK,SAAS;AAE1B,UAAM,OAAO,KAAK,IAAI,WAAW,SAAS,CAAC;AAC3C,QAAI,SAAS,GAAG;AACd,cAAQ,KAAK,OAAO;AAAA,IACtB,OAAO;AACL,eAAS,KAAK,SAAS,UAAU;AAAA,IACnC;AACA,YAAQ;AAAA,EAAQ,MAAM;AAAA;AAAA,EACxB;AAEA,SAAO;AACT;AAMA,iBAAQ,SAAS,0BAA0B,IAAI,SAAS,OAA8B;AACpF,UAAQ,MAAM,cAAc,MAAM,GAAG;AAAA,IACnC,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,EACX;AACA,QAAM,IAAI,MAAM,yBAAyB;AAC3C;;;AC1KA,YAAYA,cAAa;AAWzB,iBAAQ,SAAS,cAAc,IAAI,SAAS,OAAwC;AAClF,QAAM,OAAO,OAAO,WAAW,MAAM,cAAc,KAAK,CAAC;AACzD,QAAM,QAAQ,OAAO;AACrB,SAAO,CAAC,KAAK,SAAS,GAAG,KAAK;AAChC;AAMA,iBAAQ,SAAS,aAAa,IAAI,SAAS,OAAwC;AACjF,QAAM,OAAO,OAAO,WAAW,MAAM,cAAc,KAAK,CAAC;AACzD,QAAM,QAAQ,OAAO;AACrB,SAAO,CAAC,KAAK,SAAS,GAAG,KAAK;AAChC;AAKA,IAAM,uBAAgE;AAAA,EACpE,KAAK,CAAC,uBAAqB;AAAA,EAC3B,OAAO,CAAC,uBAAqB;AAAA,EAC7B,UAAU,CAAC,6BAA2B;AAAA,EACtC,QAAQ,CAAC,6BAA2B;AAAA,EACpC,OAAO,CAAC,mBAAgB;AAAA;AAC1B;AAMA,iBAAQ,SAAS,iBAAiB,IAAI,SAAS,OAAwC;AACrF,QAAM,OAAO,MAAM,cAAc,IAAI;AACrC,QAAM,QAAQ,qBAAqB,IAAI;AACvC,QAAM,WAAW,MAAM,CAAC;AACxB,QAAM,QAAQ,MAAM,CAAC;AACrB,QAAM,YAAY,iBAAQ,YAAY,OAAO,KAAK,KAAK,KAAK;AAC5D,QAAM,YAAY,iBAAQ,YAAY,OAAO,KAAK,KAAK,KAAK;AAE5D,MAAI,CAAC,UAAU;AACb,UAAMC,QAAO,OAAO,SAAS,KAAK,SAAS;AAC3C,WAAO,CAACA,4BAAyB;AAAA,EACnC;AAEA,QAAM,OAAO,YAAY,WAAW;AACpC,SAAO,CAAC,MAAM,KAAK;AACrB;AAMA,iBAAQ,SAAS,aAAa,IAAI,SAAS,OAAwC;AACjF,QAAM,WAAW,MAAM,cAAc,IAAI;AACzC,MAAI;AACJ,MAAI;AAEJ,MAAI,aAAa,OAAO;AAEtB,UAAM,iBAAQ,YAAY,OAAO,2BAAyB,KAAK;AAC/D,QAAI,IAAI,CAAC,MAAM,KAAK;AAElB,YAAM,MAAM;AAAA,IACd;AACA,WAAO,MAAM;AACb,WAAO,CAAC,0BAAwB;AAAA,EAClC;AAEA,MAAI,aAAa,SAAS,SAAS,UAAU,GAAG,CAAC,MAAM,SAAS;AAC9D,UAAM,iBAAQ,YAAY,OAAO,4BAA0B,KAAK;AAAA,EAClE,WAAW,aAAa,SAAS,aAAa,SAAS,aAAa,OAAO;AACzE,UAAM,iBAAQ,YAAY,OAAO,6BAA2B,KAAK;AAAA,EACnE,OAAO;AACL,UAAM,iBAAQ,YAAY,OAAO,oBAAiB,KAAK;AAAA,EACzD;AAGA,UAAQ,UAAU;AAAA,IAChB,KAAK;AACH,aAAO,OAAO,GAAG;AACjB;AAAA,IACF,KAAK;AACH,aAAO,QAAQ,GAAG;AAClB;AAAA,IACF,KAAK;AACH,aAAO,OAAO,GAAG;AACjB;AAAA,IACF,KAAK;AACH,aAAO,OAAO,GAAG;AACjB;AAAA,IACF,KAAK;AACH,aAAO,UAAU,GAAG;AACpB;AAAA,IACF,KAAK;AACH,aAAO,SAAS,GAAG;AACnB;AAAA,IACF,KAAK;AACH,aAAO,QAAQ,GAAG;AAClB;AAAA,IACF,KAAK;AACH,aAAO,SAAS,GAAG;AACnB;AAAA,IACF,KAAK;AACH,aAAO,OAAO,GAAG;AACjB;AAAA,IACF,KAAK;AACH,aAAO,OAAO,GAAG;AACjB;AAAA,IACF,KAAK;AACH,aAAO,OAAO,GAAG;AACjB;AAAA,IACF;AAEE,cAAQ,UAAU;AAAA,QAChB,KAAK;AACH,iBAAO,OAAO,GAAG;AACjB,iBAAO,CAAC,4BAA0B;AAAA,QACpC,KAAK;AACH,iBAAO,QAAQ,GAAG;AAClB,iBAAO,CAAC,4BAA0B;AAAA,QACpC,KAAK;AACH,iBAAO,QAAQ,GAAG;AAClB,iBAAO,CAAC,4BAA0B;AAAA,QACpC,KAAK;AACH,iBAAO,QAAQ,GAAG;AAClB,iBAAO,CAAC,4BAA0B;AAAA,QACpC;AACE,gBAAM,IAAI,MAAM,4BAA4B,QAAQ;AAAA,MACxD;AAAA,EACJ;AAEA,SAAO,CAAC,2BAAyB;AACnC;AAMA,iBAAQ,SAAS,WAAW,IAAI,iBAAQ,SAAS,aAAa;AAM9D,iBAAQ,SAAS,YAAY,IAAI,iBAAQ,SAAS,aAAa;AAM/D,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAAwC;AACnF,QAAM,YAA8C;AAAA,IAClD,IAAI,CAAC,uBAAoB;AAAA,IACzB,GAAG,CAAC,oBAAiB;AAAA,IACrB,cAAc,CAAC,2CAAyC;AAAA,IACxD,OAAO,CAAC,wBAAqB;AAAA,IAC7B,SAAS,CAAC,0BAAuB;AAAA,IACjC,UAAU,CAAC,0BAAwB;AAAA,EACrC;AAEA,SAAO,UAAU,MAAM,cAAc,UAAU,CAAC;AAClD;AAMA,iBAAQ,SAAS,sBAAsB,IAAI,SAAS,OAAwC;AAC1F,QAAM,gBAAgB,iBAAQ,YAAY,OAAO,yCAAuC,KAAK;AAC7F,QAAM,WAAW,MAAM,cAAc,UAAU;AAC/C,MAAI;AAEJ,MAAI,aAAa,SAAS;AACxB,UAAM,OAAO;AAAA,MACX,aAAa,iBAAQ,gBAAgB;AAAA,MACrC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AACA,UAAM,WAAW,iBAAQ,YAAY,eAAe,KAAK,KAAK,IAAI,CAAC;AACnE,qBAAQ,WAAW,QAAQ,mBAAmB;AAC9C,WAAO,GAAG,QAAQ,IAAI,aAAa;AACnC,WAAO,CAAC,2BAAyB;AAAA,EACnC;AAEA,UAAQ,UAAU;AAAA,IAChB,KAAK;AACH,aAAO,GAAG,aAAa;AACvB;AAAA,IACF,KAAK;AACH,aAAO,GAAG,aAAa;AACvB;AAAA,IACF,KAAK;AACH,uBAAQ,WAAW,QAAQ,mBAAmB;AAC9C,aAAO,UAAU,aAAa,QAAQ,aAAa;AACnD;AAAA,IACF,KAAK;AACH,aAAO,GAAG,aAAa;AACvB;AAAA,IACF,KAAK;AACH,aAAO,GAAG,aAAa;AACvB;AAAA,IACF,KAAK;AACH,YAAM,UAAU,iBAAQ,YAAY,OAAO,iCAA+B,KAAK;AAC/E,aAAO,GAAG,aAAa,MAAM,OAAO;AACpC;AAAA,IACF;AACE,YAAM,IAAI,MAAM,uBAAuB,QAAQ;AAAA,EACnD;AAEA,SAAO,CAAC,sBAAoB;AAC9B;AAMA,iBAAQ,SAAS,aAAa,IAAI,SAAS,OAA8B;AACvE,QAAM,YAAY,iBAAQ,YAAY,OAAO,yBAAuB,KAAK;AACzE,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,OAAO,GAAG,OAAO,MAAM,OAAO,MAAM,SAAS;AAAA;AACnD,SAAO;AACT;AAMA,iBAAQ,SAAS,cAAc,IAAI,WAA6B;AAC9D,SAAO,CAAC,kBAAgB;AAC1B;AAMA,iBAAQ,SAAS,aAAa,IAAI,SAAS,OAAwC;AACjF,QAAM,YAAY,iBAAQ,YAAY,OAAO,kCAAgC,KAAK;AAClF,QAAM,YAAY,iBAAQ,YAAY,OAAO,iCAA+B,KAAK;AACjF,QAAM,OAAO,GAAG,SAAS,MAAM,SAAS;AACxC,SAAO,CAAC,4BAA0B;AACpC;AAMA,iBAAQ,SAAS,gBAAgB,IAAI,SAAS,OAAwC;AACpF,QAAM,YAAY,iBAAQ,YAAY,OAAO,sBAAmB,KAAK;AACrE,QAAM,YAAY,iBAAQ,YAAY,OAAO,oBAAiB,KAAK;AACnE,QAAM,YAAY,iBAAQ,YAAY,OAAO,qBAAkB,KAAK;AACpE,QAAM,OACJ,IAAI,SAAS,MAAM,SAAS,MAAM,SAAS,QAAQ,SAAS,MAAM,SAAS,MAAM,SAAS,MAAM,SAAS;AAC3G,SAAO,CAAC,2BAAyB;AACnC;AAMA,iBAAQ,SAAS,iBAAiB,IAAI,SAAS,OAAwC;AACrF,QAAM,YAAY,iBAAQ,YAAY,OAAO,qBAAkB,KAAK;AACpE,QAAM,YAAY,iBAAQ,YAAY,OAAO,mBAAgB,KAAK;AAElE,QAAM,OAAO;AAAA,IACX,SAAS,iBAAQ,gBAAgB;AAAA,IACjC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,QAAM,WAAW,iBAAQ,YAAY,iBAAiB,KAAK,KAAK,IAAI,CAAC;AACrE,QAAM,OAAO,GAAG,QAAQ,IAAI,SAAS,KAAK,SAAS;AACnD,SAAO,CAAC,2BAAyB;AACnC;AAMA,iBAAQ,SAAS,mBAAmB,IAAI,WAA6B;AACnE,SAAO,CAAC,4CAA0C;AACpD;AAMA,iBAAQ,SAAS,YAAY,IAAI,SAAS,OAAwC;AAChF,QAAM,YAAY,iBAAQ,YAAY,OAAO,kBAAe,KAAK;AACjE,QAAM,YAAY,iBAAQ,YAAY,OAAO,kBAAe,KAAK;AACjE,QAAM,OAAO,SAAS,SAAS,KAAK,SAAS;AAC7C,SAAO,CAAC,4BAA0B;AACpC;;;ACrUA,YAAYC,cAAa;AAczB,iBAAQ,SAAS,MAAM,IAAI,SAAS,OAAwC;AAC1E,QAAM,OAAO,iBAAQ,OAAO,MAAM,cAAc,MAAM,CAAC;AACvD,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,YAAY,IAAI,SAAS,OAAwC;AAChF,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,QAAM,OAAO,IAAI,IAAI;AACrB,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,WAAW,IAAI,SAAS,OAAkE;AACzG,MAAI;AAEJ,MAAI,MAAM,eAAe,GAAG;AAC1B,WAAO,CAAC,oBAAkB;AAAA,EAC5B,WAAW,MAAM,eAAe,GAAG;AACjC,UAAM,YAAY,iBAAQ,YAAY,OAAO,6BAA2B,KAAK;AAC7E,WAAO,YAAY,YAAY;AAC/B,WAAO,CAAC,2BAAyB;AAAA,EACnC,OAAO;AACL,UAAM,QAAkB,CAAC;AACzB,aAAS,IAAI,GAAG,KAAK,MAAM,cAAc,IAAI,KAAK;AAChD,YAAM,WAAW,iBAAQ,YAAY,OAAO,QAAQ,gBAAa;AACjE,UAAI,aAAa,IAAI;AACnB,cAAM,CAAC,IAAI;AAAA,MACb,OAAO;AACL,cAAM,CAAC,IAAI,YAAY,WAAW;AAAA,MACpC;AAAA,IACF;AACA,WAAO,MAAM,KAAK,KAAK;AACvB,WAAO,CAAC,2BAAyB;AAAA,EACnC;AACF;AAMA,iBAAQ,SAAS,aAAa,IAAI,SAAS,OAAwC;AACjF,QAAM,YAAY,iBAAQ,YAAY,OAAO,8BAA4B,KAAK;AAC9E,QAAM,OAAO,YAAY,YAAY;AACrC,SAAO,CAAC,2BAAyB;AACnC;AAMA,iBAAQ,SAAS,cAAc,IAAI,SAAS,OAAwC;AAClF,QAAM,OAAO;AAAA,IACX,aAAa,iBAAQ,gBAAgB;AAAA,IACrC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,QAAM,WAAW,iBAAQ,YAAY,OAAO,KAAK,KAAK,IAAI,CAAC;AAE3D,MAAI,YAAY,iBAAQ,YAAY,OAAO,8BAA4B;AACvE,MAAI,cAAc,IAAI;AACpB,gBAAY;AAAA,EACd,OAAO;AACL,gBAAY,YAAY,YAAY;AAAA,EACtC;AACA,QAAM,OAAO,WAAW,MAAM,YAAY;AAC1C,SAAO,CAAC,2BAAyB;AACnC;AAMA,iBAAQ,SAAS,aAAa,IAAI,SAAS,OAA8B;AACvE,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB,KAAK;AACL,MAAI,YAAY,iBAAQ,YAAY,OAAO,6BAA2B,KAAK;AAC3E,MAAI,cAAc,IAAI;AACpB,gBAAY;AAAA,EACd,OAAO;AACL,gBAAY,YAAY,YAAY;AAAA,EACtC;AACA,SAAO,UAAU,SAAS,YAAY;AACxC;AAMA,iBAAQ,SAAS,WAAW,IAAI,SAAS,OAAwC;AAC/E,QAAM,YAAoC;AAAA,IACxC,MAAM;AAAA,IACN,OAAO;AAAA,IACP,MAAM;AAAA,EACR;AAEA,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,QAAM,WAAW,UAAU,IAAI;AAC/B,MAAI,YAAY,iBAAQ,YAAY,OAAO,6BAA2B;AAEtE,MAAI,cAAc,IAAI;AACpB,gBAAY;AAAA,EACd,OAAO;AACL,gBAAY,YAAY,YAAY;AAAA,EACtC;AACA,SAAO,CAAC,YAAY,+BAA6B;AACnD;AAMA,iBAAQ,SAAS,YAAY,IAAI,SAAS,OAA8B;AACtE,QAAM,WAAW,iBAAiB,EAAE,OAAO,CAAC,EAAE,CAAC;AAC/C,QAAM,YAAY,WAAW;AAC7B,mBAAQ,SAAS,YAAY,UAAU,WAAW,KAAK;AAEvD,MAAI,YAAY,iBAAQ,YAAY,OAAO,qBAAkB;AAC7D,MAAI,cAAc,IAAI;AACpB,gBAAY;AAAA,EACd,OAAO;AACL,gBAAY,YAAY,YAAY;AAAA,EACtC;AACA,SAAO,WAAW,YAAY,YAAY;AAC5C;AAMA,iBAAQ,SAAS,iBAAiB,IAAI,SAAS,OAAwC;AAErF,QAAM,WAAW,iBAAiB,EAAE,OAAO,CAAC,EAAE,CAAC;AAC/C,QAAM,aAAa,MAAM,cAAc,MAAM;AAG7C,QAAM,OAAiB,CAAC;AACxB,QAAM,WAAW,eAAe;AAEhC,MAAI,UAAU;AACZ,SAAK,KAAK,SAAS,iBAAQ,gBAAgB,gBAAgB;AAAA,EAC7D,OAAO;AACL,SAAK,KAAK,YAAY,iBAAQ,gBAAgB,gBAAgB;AAAA,EAChE;AACA,OAAK,KAAK,OAAO,WAAW,gBAAgB;AAC5C,OAAK,KAAK,mCAAmC;AAE7C,MAAI,UAAU;AACZ,SAAK,KAAK,oBAAoB;AAAA,EAChC,OAAO;AACL,SAAK,KAAK,wBAAwB;AAAA,EACpC;AAEA,OAAK,KAAK,qCAAqC;AAC/C,OAAK,KAAK,aAAa,WAAW,iBAAiB;AAEnD,MAAI,UAAU;AACZ,SAAK,KAAK,qBAAqB,WAAW,cAAc;AACxD,SAAK,KAAK,8BAA8B;AAAA,EAC1C,OAAO;AACL,SAAK,KAAK,iCAAiC,WAAW,UAAU;AAChE,SAAK,KAAK,qDAAyD;AACnE,SAAK,KAAK,gCAAgC;AAC1C,SAAK,KAAK,gBAAgB;AAC1B,SAAK,KAAK,8BAA8B;AACxC,SAAK,KAAK,SAAS;AAAA,EACrB;AAEA,OAAK,KAAK,OAAO;AACjB,OAAK,KAAK,KAAK;AACf,OAAK,KAAK,mCAAmC;AAC7C,OAAK,KAAK,iDAAiD;AAC3D,OAAK,KAAK,mBAAmB;AAC7B,OAAK,KAAK,GAAG;AAEb,QAAM,WAAW,iBAAQ;AAAA,IACvB,uBAAuB;AAAA,IACvB,KAAK,KAAK,IAAI;AAAA,EAChB;AAGA,QAAM,YAAY,WAAW;AAC7B,mBAAQ,SAAS,YAAY,UAAU,WAAW,KAAK;AAEvD,QAAM,MAAM,iBAAQ,YAAY,OAAO,qBAAkB,KAAK;AAC9D,QAAM,OAAO,WAAW,MAAM,MAAM;AAEpC,SAAO,CAAC,2BAAyB;AACnC;;;ACtNA,YAAYC,cAAa;AAKzB,IAAMC,YAAW,CAAC,UAA2B;AAC3C,SAAO,wBAAwB,KAAK,KAAK;AAC3C;AAUA,iBAAQ,SAAS,mBAAmB,IAAI,SAAS,OAAwC;AACvF,QAAM,YAAa,MAAc,cAAc;AAC/C,QAAM,QAAkB,CAAC;AACzB,WAAS,IAAI,GAAG,IAAI,WAAW,KAAK;AAClC,UAAM,KAAK,iBAAQ,YAAY,OAAO,QAAQ,iBAAc,KAAK,MAAM;AAAA,EACzE;AACA,QAAM,OAAO,MAAM,MAAM,KAAK,IAAI,IAAI;AACtC,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,gBAAgB,IAAI,SAAS,OAAwC;AACpF,MAAI,KAAK,iBAAQ,YAAY,OAAO,6BAA0B,KAAK;AACnE,QAAM,OAAO,iBAAQ,YAAY,OAAO,sBAAmB,KAAK;AAEhE,MAAIA,UAAS,EAAE,GAAG;AAChB,SAAK,OAAO,WAAW,EAAE,IAAI,CAAC;AAAA,EAChC;AACA,QAAM,OAAO,OAAO,MAAM,KAAK;AAC/B,SAAO,CAAC,qBAAkB;AAC5B;AAMA,iBAAQ,SAAS,cAAc,IAAI,SAAS,OAA8B;AACxE,QAAM,QAAQ,iBAAQ,YAAY,OAAO,wBAAsB;AAC/D,QAAM,OAAO,iBAAQ,YAAY,OAAO,sBAAoB;AAC5D,QAAM,QAAQ,iBAAQ,YAAY,OAAO,uBAAqB;AAC9D,SAAO,OAAO,MAAM,QAAQ,SAAS,QAAQ;AAC/C;AAMA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAA8B;AACzE,QAAM,YAAY,iBAAQ,YAAY,OAAO,8BAA2B;AACxE,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,YAAY,iBAAQ,gBAAiB,MAA8B,MAAM,cAAc,MAAM,CAAC,CAAC;AACrG,QAAM,SAAS,MAAM,cAAc,OAAO;AAC1C,QAAM,YAAY,MAAM,cAAc,KAAK;AAE3C,UAAQ,QAAQ;AAAA,IACd,KAAK;AACH,UAAI,cAAc,MAAM;AACtB,yBAAQ,WAAW,OAAO,IACxB,YAAY,MAAM,UAAU,MAAM,YAAY,OAAO,YAAY;AAAA,MACrE,OAAO;AACL,yBAAQ,WAAW,OAAO,IACxB,YAAY,MAAM,UAAU,MAAM,YAAY;AAAA,MAClD;AACA;AAAA,IACF,KAAK;AACH,UAAI,cAAc,MAAM;AACtB,cAAM,QAAQ,UAAU,MAAM,GAAG;AACjC,cAAM,MAAM,MAAM,SAAS;AAC3B,cAAM,OAAO,MAAM,CAAC,EAAE,MAAM,GAAG;AAC/B,cAAM,MAAM,KAAK,SAAS;AAC1B,yBAAQ,WAAW,OAAO,IACxB,YAAY,MAAM,UAAU,MAAM,MAAM,OAAO,MAAM,SAAS,YAAY;AAAA,MAC9E,OAAO;AACL,yBAAQ,WAAW,OAAO,IACxB,YAAY,MAAM,UAAU,UAAU,YAAY;AAAA,MACtD;AACA;AAAA,EACJ;AACA,SAAO;AACT;AAMA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAA8B;AACzE,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,YAAY,iBAAQ,gBAAiB,MAA8B,MAAM,cAAc,MAAM,CAAC,CAAC;AACrG,QAAM,OAAO,MAAM,cAAc,OAAO;AACxC,QAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,MAAI,IAAI;AACR,MAAI,IAAI;AAER,UAAQ,MAAM;AAAA,IACZ,KAAK;AACH,eAAS,IAAI,GAAG,IAAI,WAAW,KAAK;AAClC,cAAM,IAAI,iBAAQ,YAAY,OAAO,MAAM,sBAAmB;AAC9D,aAAK,MAAM,IAAI;AAAA,MACjB;AACA,uBAAQ,WAAW,OAAO,IAAI,YAAY,MAAM,UAAU,IAAI;AAC9D;AAAA,IACF,KAAK;AACH,UAAI,cAAc,KAAK;AACrB,cAAM,IAAI,iBAAQ,YAAY,OAAO,yBAAsB;AAC3D,yBAAQ,WAAW,OAAO,IAAI,YAAY,MAAM,UAAU,SAAS,IAAI;AAAA,MACzE,OAAO;AACL,aAAK;AACL,iBAAS,IAAI,GAAG,IAAI,WAAW,KAAK;AAClC,gBAAM,IAAI,iBAAQ,YAAY,OAAO,MAAM,sBAAmB;AAC9D,gBAAM,KAAK,EAAE,MAAM,GAAG;AACtB,eAAK,IAAI;AACT,eAAK,MAAM,GAAG,SAAS;AAAA,QACzB;AACA,YAAI,EAAE,MAAM,GAAG,EAAE,SAAS,CAAC;AAC3B,aAAK;AACL,yBAAQ,WAAW,OAAO,IAAI,YAAY,MAAM,UAAU,IAAI,MAAM,IAAI;AAAA,MAC1E;AACA;AAAA,EACJ;AACA,SAAO;AACT;AAMA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAA8B;AACzE,QAAM,QAAQ,iBAAQ,YAAY,OAAO,uBAAqB;AAC9D,MAAI,OAAO,iBAAQ,QAAQ;AAAA,IACzB,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,WAAS,IAAI,GAAG,IAAI,WAAW,KAAK;AAClC,UAAM,IAAI,iBAAQ,YAAY,OAAO,MAAM,sBAAmB;AAC9D,YAAQ,MAAM,IAAI;AAAA,EACpB;AACA,UAAQ,MAAM,QAAQ;AACtB,SAAO;AACT;AAMA,iBAAQ,SAAS,kBAAkB,IAAI,SAAS,OAAwC;AACtF,MAAI,OAAO,iBAAQ,QAAQ;AAAA,IACzB,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,WAAS,IAAI,GAAG,IAAI,WAAW,KAAK;AAClC,UAAM,IAAI,iBAAQ,YAAY,OAAO,MAAM,sBAAmB;AAC9D,YAAQ,MAAM,IAAI;AAAA,EACpB;AACA,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,mBAAmB,IAAI,iBAAQ,SAAS,mBAAmB;AAM5E,iBAAQ,SAAS,oBAAoB,IAAI,SAAS,OAAwC;AACxF,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,cAAc,IAAI,SAAS,OAAwC;AAClF,QAAM,OAAO,iBAAQ,YAAY,OAAO,qBAAkB,KAAK;AAC/D,QAAM,MAAM,iBAAQ,YAAY,OAAO,oBAAiB,KAAK;AAE7D,QAAM,OAAO,eAAe,OAAO,QAAQ,MAAM;AACjD,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,cAAc,IAAI,SAAS,OAAwC;AAClF,QAAM,OAAO,iBAAQ,YAAY,OAAO,sBAAmB,KAAK;AAChE,QAAM,OAAO,YAAY,OAAO,gBAAgB,OAAO;AACvD,SAAO,CAAC,2BAAyB;AACnC;AAMA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAAwC;AACnF,QAAM,OAAO,iBAAQ,YAAY,OAAO,sBAAmB,KAAK;AAChE,QAAM,OAAO,aAAa,OAAO;AACjC,SAAO,CAAC,sBAAoB;AAC9B;AAMA,iBAAQ,SAAS,gBAAgB,IAAI,SAAS,OAAiD;AAC7F,QAAM,OAAO,iBAAQ,YAAY,OAAO,wBAAqB,KAAK;AAClE,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,QAAM,QAAQ,MAAM,cAAc,OAAO;AACzC,MAAI,KAAK,iBAAQ,YAAY,OAAO,mBAAgB,KAAK;AAGzD,MAAI,UAAU,cAAc;AAC1B,QAAIA,UAAS,EAAE,GAAG;AAChB,WAAK,OAAO,WAAW,EAAE,IAAI,CAAC;AAAA,IAChC,OAAO;AACL,WAAK,MAAM,KAAK;AAAA,IAClB;AAAA,EACF,WAAW,UAAU,SAAS;AAC5B,SAAK;AAAA,EACP,WAAW,UAAU,QAAQ;AAC3B,SAAK,YAAY,OAAO,gBAAgB,OAAO;AAAA,EACjD,WAAW,UAAU,UAAU;AAC7B,SAAK,mBAAmB,OAAO,gBAAgB,OAAO;AAAA,EACxD;AAEA,QAAM,OAAO,OAAO,MAAM,KAAK;AAC/B,MAAI,SAAS,UAAU;AACrB,WAAO,OAAO;AAAA,EAChB;AACA,SAAO,CAAC,qBAAkB;AAC5B;AAMA,iBAAQ,SAAS,gBAAgB,IAAI,SAAS,OAA8B;AAC1E,QAAM,OAAO,iBAAQ,YAAY,OAAO,uBAAoB,KAAK;AACjE,QAAM,QAAQ,iBAAQ,YAAY,OAAO,mBAAgB,KAAK;AAC9D,QAAM,QAAQ,MAAM,cAAc,OAAO;AACzC,MAAI,KAAK,iBAAQ,YAAY,OAAO,mBAAgB,KAAK;AAEzD,MAAI,UAAU,cAAc;AAC1B,QAAIA,UAAS,EAAE,GAAG;AAChB,WAAK,OAAO,WAAW,EAAE,IAAI,CAAC;AAAA,IAChC,OAAO;AACL,WAAK,MAAM,KAAK;AAAA,IAClB;AAAA,EACF,WAAW,UAAU,SAAS;AAC5B,SAAK;AAAA,EACP,WAAW,UAAU,QAAQ;AAC3B,SAAK,YAAY,OAAO,gBAAgB,OAAO;AAAA,EACjD,WAAW,UAAU,UAAU;AAC7B,SAAK,mBAAmB,OAAO,gBAAgB,OAAO;AAAA,EACxD;AAEA,SAAO,OAAO,MAAM,KAAK,SAAS,QAAQ;AAC5C;;;ACrRA,YAAYC,cAAa;AAYzB,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAAwC;AACnF,QAAM,OAAO,iBAAQ,QAAQ;AAAA,IAC3B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,eAAe,IAAI,SAAS,OAA8B;AACzE,QAAM,QAAQ,iBAAQ,YAAY,OAAO,4BAAyB,KAAK;AACvE,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,SAAO,UAAU,QAAQ,QAAQ;AACnC;AAMA,iBAAQ,SAAS,oBAAoB,IAAI,SAAS,OAAwC;AACxF,QAAM,QAAQ,iBAAQ,YAAY,OAAO,6CAA0C,KAAK;AACxF,QAAM,UAAU,iBAAQ,gBAAiB,MAA8B,MAAM,cAAc,uBAAuB,CAAC,CAAC;AACpH,QAAM,OAAO,MAAM,UAAU,OAAO,QAAQ;AAC5C,SAAO,CAAC,oBAAkB;AAC5B;AAMA,iBAAQ,SAAS,iBAAiB,IAAI,SAAS,OAA8B;AAC3E,QAAM,QAAQ,iBAAQ,YAAY,OAAO,4BAAyB,KAAK;AACvE,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,mBAAQ,WAAW,OAAO,IAAI,gBAAgB,UAAU,QAAQ,QAAQ;AACxE,SAAO;AACT;AAMA,iBAAQ,SAAS,oBAAoB,IAAI,SAAS,OAA8B;AAC9E,QAAM,QAAQ,iBAAQ,YAAY,OAAO,4BAAyB,KAAK;AACvE,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,UAAU,iBAAQ,gBAAiB,MAA8B,MAAM,cAAc,uBAAuB,CAAC,CAAC;AACpH,mBAAQ,WAAW,OAAO,IAAI,UAAU,MAAM,UAAU,QAAQ,QAAQ;AACxE,SAAO;AACT;AAMA,iBAAQ,SAAS,UAAU,IAAI,SAAS,OAA8B;AACpE,QAAM,MAAM,MAAM,cAAc,KAAK,KAAK;AAC1C,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AAEA,QAAM,eAAe,eAAe,UAAU;AAC9C,mBAAQ,SAAS,QAAQ,SAAS,cAAc,KAAK;AAErD,mBAAQ,WAAW,OAAO,IAAI,eAAe,UAAU,QAAQ,MAAM;AACrE,SAAO;AACT;AAMA,iBAAQ,SAAS,WAAW,IAAI,SAAS,OAA8B;AACrE,QAAM,MAAM,MAAM,cAAc,KAAK,KAAK;AAC1C,QAAM,UAAU,iBAAQ,QAAQ;AAAA,IAC9B,MAAM,cAAc,KAAK;AAAA,IACjB,eAAM,SAAS;AAAA,EACzB;AAEA,QAAM,eAAe,eAAe,UAAU;AAC9C,mBAAQ,SAAS,QAAQ,SAAS,cAAc,KAAK;AAErD,mBAAQ,WAAW,OAAO,IAAI,eAAe,UAAU,QAAQ,MAAM;AACrE,SAAO;AACT;AAMA,iBAAQ,SAAS,SAAS,IAAI,SAAS,OAA8B;AACnE,QAAM,OAAO,MAAM,cAAc,MAAM,KAAK;AAC5C,QAAM,WAAW,iBAAQ,QAAQ;AAAA,IAC/B,MAAM,cAAc,MAAM;AAAA,IAClB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,OAAO,MAAM,cAAc,MAAM,KAAK;AAC5C,QAAM,WAAW,iBAAQ,QAAQ;AAAA,IAC/B,MAAM,cAAc,MAAM;AAAA,IAClB,eAAM,SAAS;AAAA,EACzB;AAEA,mBAAQ,WAAW,QAAQ,IAAI,eAAe,WAAW,QAAQ,OAAO;AACxE,mBAAQ,WAAW,QAAQ,IAAI,eAAe,WAAW,QAAQ,OAAO;AACxE,SAAO;AACT;;;AChIA,YAAYC,cAAa;AAYzB,iBAAQ,SAAS,sBAAsB,IAAI,SAAS,OAA4B;AAC9E,QAAM,WAAW,iBAAQ,QAAS;AAAA,IAChC,MAAM,cAAc,MAAM;AAAA,IAClB,eAAM,SAAS;AAAA,EACzB;AACA,MAAI,SAAS,iBAAQ,gBAAgB,OAAO,OAAO;AAEnD,MAAI,iBAAQ,kBAAkB;AAC5B,UAAM,KAAK,MAAM,GAAG,QAAQ,OAAO,MAAM;AACzC,aACE,iBAAQ;AAAA,MACN,iBAAQ,iBAAiB,QAAQ,OAAO,MAAM,KAAK,GAAG;AAAA,MACtD,iBAAQ;AAAA,IACV,IAAI;AAAA,EACR;AACA,MAAI,iBAAQ,oBAAoB;AAC9B,aACE,iBAAQ,mBAAmB,QAAQ,OAAO,MAAM,MAAM,KAAK,GAAG,IAAI;AAAA,EACtE;AAEA,MAAI,cAAc,iBAAQ,YAAY,OAAO,uBAAoB,KAAK;AACtE,MAAI,aAAa;AACf,kBAAc,iBAAQ,SAAS,YAAY,cAAc;AAAA,EAC3D;AAEA,QAAM,aAAa,cAAc,QAAQ;AACzC,QAAM,OAAiB,CAAC;AACxB,WAAS,IAAI,GAAG,IAAK,MAAc,WAAW,QAAQ,KAAK;AACzD,SAAK,CAAC,IACJ,SACA,iBAAQ,QAAS;AAAA,MACd,MAAc,WAAW,CAAC;AAAA,MACnB,eAAM,SAAS;AAAA,IACzB;AAAA,EACJ;AAEA,MAAI,OACF,aACA,MACA,WACA,MACA,KAAK,KAAK,IAAI,IACd,UACA,SACA,cACA;AACF,SAAO,iBAAQ,OAAO,OAAO,IAAI;AAGjC,mBAAQ,eAAe,MAAM,UAAU,IAAI;AAC3C,SAAO;AACT;AAMA,iBAAQ,SAAS,wBAAwB,IAAI,iBAAQ,SAAS,sBAAsB;AAMpF,iBAAQ,SAAS,uBAAuB,IAAI,SAAS,OAAwC;AAC3F,QAAM,WAAW,iBAAQ,QAAS;AAAA,IAChC,MAAM,cAAc,MAAM;AAAA,IAClB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,OAAiB,CAAC;AACxB,WAAS,IAAI,GAAG,IAAK,MAAc,WAAW,QAAQ,KAAK;AACzD,SAAK,CAAC,IAAI,iBAAQ,YAAY,OAAO,QAAQ,iBAAc,KAAK;AAAA,EAClE;AACA,QAAM,OAAO,WAAW,MAAM,KAAK,KAAK,IAAI,IAAI;AAChD,SAAO,CAAC,2BAAyB;AACnC;AAMA,iBAAQ,SAAS,yBAAyB,IAAI,SAAS,OAA8B;AACnF,QAAM,WAAW,iBAAQ,QAAS;AAAA,IAChC,MAAM,cAAc,MAAM;AAAA,IAClB,eAAM,SAAS;AAAA,EACzB;AACA,QAAM,OAAiB,CAAC;AACxB,WAAS,IAAI,GAAG,IAAK,MAAc,WAAW,QAAQ,KAAK;AACzD,SAAK,CAAC,IAAI,iBAAQ,YAAY,OAAO,QAAQ,iBAAc,KAAK;AAAA,EAClE;AACA,SAAO,WAAW,MAAM,KAAK,KAAK,IAAI,IAAI;AAC5C;AAMA,iBAAQ,SAAS,qBAAqB,IAAI,SAAS,OAA8B;AAC/E,QAAM,YAAY,iBAAQ,YAAY,OAAO,0BAAuB,KAAK;AACzE,MAAI,OAAO,SAAS,YAAY;AAChC,MAAK,MAAc,iBAAiB;AAClC,UAAM,QAAQ,iBAAQ,YAAY,OAAO,sBAAmB,KAAK;AACjE,YAAQ,iBAAQ,SAAS,YAAY,QAAQ;AAAA,EAC/C,OAAO;AACL,YAAQ,iBAAQ,SAAS;AAAA,EAC3B;AACA,UAAQ;AACR,SAAO;AACT;;;AClHA,iBAAQ,SAAS,YAAY,IAAI,SAAU,OAA8B;AACvE,QAAM,SAAS,iBAAQ,gBAAgB,OAAO,YAAY;AAC1D,mBAAQ,SAAS,gBAAgB,MAAM,IAAI,QAAQ,IAAI;AACvD,SAAO;AACT;AAEA,iBAAQ,SAAS,YAAY,IAAI,SAAU,OAA8B;AACvE,QAAM,SAAS,iBAAQ,gBAAgB,OAAO,IAAI;AAClD,mBAAQ,SAAS,gBAAgB,MAAM,IAAI,QAAQ,IAAI;AACvD,SAAO;AACT;AAEA,iBAAQ,SAAS,SAAS,IAAI,SAAU,OAAwC;AAC9E,SAAO,CAAC,MAAM,cAAc,SAAS,iBAAe;AACtD;AAEA,iBAAQ,SAAS,kBAAkB,IAAI,SAAU,OAAwC;AACvF,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,SAAO,CAAC,oBAAkB;AAC5B;AAEA,iBAAQ,SAAS,aAAa,IAAI,SAAU,OAA8B;AACxE,QAAM,OAAO,iBAAQ,YAAY,OAAO,sBAAoB;AAC5D,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,MAAM,WAAW,IAAI,IAAI,GAAG,EAAE;AACjD,SAAO;AACT;AAEA,iBAAQ,SAAS,WAAW,IAAI,SAAU,OAA8B;AACtE,QAAM,cAAc,MAAM,oBAAoB,WAAW;AACzD,QAAM,aAAa,cAAe,iBAAQ,YAAY,WAAW,IAAe;AAChF,MAAI,YAAY;AACd,qBAAQ,QAAQ,gBAAgB,YAAY,IAAI;AAAA,EAClD;AACA,SAAO;AACT;AAEA,iBAAQ,SAAS,iBAAiB,IAAI,SAAU,OAA8B;AAC5E,QAAM,cAAc,iBAAQ,gBAAgB,OAAO,YAAY;AAC/D,MAAI,aAAa;AACf,qBAAQ,SAAS,iBAAiB,aAAa,IAAI;AAAA,EACrD;AACA,QAAM,cAAc,MAAM,oBAAoB,WAAW;AACzD,QAAM,aAAa,cAAe,iBAAQ,YAAY,WAAW,IAAe;AAChF,SAAO;AACT;AAEA,iBAAQ,SAAS,kBAAkB,IAAI,SAAU,OAA8B;AAC7E,QAAM,SAAS,iBAAQ,gBAAgB,OAAO,IAAI;AAClD,mBAAQ,YAAY,sBAAsB,MAAM,IAAI,QAAQ,IAAI;AAChE,SAAO;AACT;AAEA,iBAAQ,SAAS,WAAW,IAAI,SAAU,OAA8B;AACtE,SAAO,MAAM,cAAc,MAAM,IAAI;AACvC;AAEA,iBAAQ,SAAS,cAAc,IAAI,SAAU,OAA8B;AACzE,SAAO,QAAQ,MAAM,cAAc,MAAM,IAAI;AAC/C;AAEA,iBAAQ,SAAS,UAAU,IAAI,SAAU,QAA+B;AACtE,SAAO;AACT;AAIA,iBAAQ,SAAS,qBAAqB,IAAI,SAAU,OAA8B;AAChF,QAAM,MAAM,iBAAQ,YAAY,OAAO,qBAAmB;AAC1D,QAAM,cAAc,MAAM,cAAc,OAAO,KAAK;AACpD,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,cAAc,KAAK;AACjE,SAAO,gBAAgB,GAAG,KAAK,WAAW;AAAA;AAC5C;AAEA,iBAAQ,SAAS,iBAAiB,IAAI,SAAU,OAA8B;AAC5E,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,QAAM,cAAc,iBAAQ,YAAY,OAAO,uBAAqB,KAAK;AACzE,mBAAQ,WAAW,OAAO,KAAK,SAAS,QAAQ,eAAe;AAC/D,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,cAAc,KAAK;AACjE,SAAO,gBAAgB,GAAG,KAAK,WAAW;AAAA;AAC5C;AAEA,iBAAQ,SAAS,mBAAmB,IAAI,SAAU,OAAwC;AACxF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,cAAc;AAC7D,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,aAAa,KAAK;AAChE,SAAO,CAAC,eAAe,GAAG,mBAAiB;AAC7C;AAEA,iBAAQ,SAAS,gBAAgB,IAAI,SAAU,OAAwC;AACrF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,cAAc;AAC7D,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,aAAa,KAAK;AAChE,SAAO,CAAC,eAAe,GAAG,mBAAiB;AAC7C;AAEA,iBAAQ,SAAS,gBAAgB,IAAI,SAAU,OAA8B;AAC3E,QAAM,MAAM,MAAM,cAAc,cAAc;AAC9C,QAAM,cAAc,MAAM,cAAc,OAAO;AAC/C,mBAAQ,WAAW,OAAO,KAAK,SAAS,QAAQ,SAAS;AACzD,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,cAAc,KAAK;AACjE,SAAO,gBAAgB,GAAG,KAAK,WAAW;AAAA;AAC5C;AAEA,iBAAQ,SAAS,gBAAgB,IAAI,SAAU,OAA8B;AAC3E,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,QAAM,cAAc,iBAAQ,YAAY,OAAO,qBAAmB,KAAK;AACvE,mBAAQ,WAAW,OAAO,KAAK,SAAS,QAAQ,gBAAgB;AAChE,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,cAAc,KAAK;AACjE,QAAM,SAAS,OAAO,WAAW;AACjC,MAAI,CAAC,MAAM,MAAM,MAAM,SAAS,KAAK,SAAS,MAAM;AAClD,UAAM,eAAe,oDAAoD,WAAW;AAAA,EACtF,OAAO;AACL,UAAM,eAAe,MAAM,WAAW;AAAA,EACxC;AACA,SAAO,eAAe,GAAG,KAAK,WAAW;AAAA;AAC3C;AAEA,iBAAQ,SAAS,kBAAkB,IAAI,SAAU,OAAwC;AACvF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,eAAe;AAC9D,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,aAAa,KAAK;AAChE,SAAO,CAAC,cAAc,GAAG,mBAAiB;AAC5C;AAEA,iBAAQ,SAAS,eAAe,IAAI,SAAU,OAAwC;AACpF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,eAAe;AAC9D,mBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,aAAa,KAAK;AAChE,SAAO,CAAC,cAAc,GAAG,mBAAiB;AAC5C;AAEA,iBAAQ,SAAS,YAAY,IAAI,SAAU,OAAwC;AACjF,SAAO,CAAC,MAAM,cAAc,OAAO,iBAAe;AACpD;;;ACxIA,iBAAQ,SAAS,QAAQ,IAAI,SAAU,QAAyC;AAC9E,SAAO,CAAC,0BAAwB;AAClC;AAEA,iBAAQ,SAAS,QAAQ,IAAI,SAAU,QAAyC;AAC9E,SAAO,CAAC,0BAAwB;AAClC;AAEA,iBAAQ,SAAS,YAAY,IAAI,SAAU,QAAyC;AAClF,SAAO,CAAC,+BAA6B;AACvC;AAEA,iBAAQ,SAAS,YAAY,IAAI,SAAU,OAA8B;AACvE,QAAM,YAAY,iBAAQ,YAAY,OAAO,4BAA0B;AACvE,SAAO,SAAS,SAAS;AAAA;AAC3B;AAEA,iBAAQ,SAAS,gBAAgB,IAAI,SAAU,OAA8B;AAC3E,QAAM,YAAY,iBAAQ,YAAY,OAAO,4BAA0B;AACvE,SAAO,SAAS,SAAS;AAAA;AAC3B;AAEA,iBAAQ,SAAS,gBAAgB,IAAI,SAAU,OAA8B;AAC3E,QAAM,OAAO,MAAM,cAAc,OAAO;AACxC,QAAM,YAAY,iBAAQ,YAAY,OAAO,4BAA0B;AACvE,QAAM,OAAO,iBAAQ,gBAAgB,OAAO,SAAS;AACrD,QAAM,QAAQ,UAAU;AACxB,mBAAQ,eAAe,kBAAkB,WAAW,QAAQ,KAAK,OAAO;AAExE,MAAI;AACJ,UAAQ,MAAM;AAAA,IACZ,KAAK;AACH,aAAO,iBAAiB,KAAK,KAAK,SAAS;AAAA,IAAU,KAAK;AAAA,EAAe,IAAI;AAAA;AAC7E;AAAA,IACF,KAAK;AACH,aAAO,iBAAiB,KAAK,KAAK,SAAS;AAAA,IAAU,KAAK;AAAA,EAAe,IAAI;AAAA;AAC7E;AAAA,IACF,KAAK;AACH,aAAO,iBAAiB,KAAK,KAAK,SAAS;AAAA,IAAe,KAAK;AAAA,EAAe,IAAI;AAAA;AAClF;AAAA,IACF;AACE,aAAO;AAAA,EACX;AACA,SAAO;AACT;AAEA,iBAAQ,SAAS,YAAY,IAAI,SAAU,OAAwC;AACjF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,mBAAQ,SAAS,iBAAiB,KAAK,WAAW,GAAG,aAAa,IAAI;AACtE,SAAO,CAAC,WAAW,GAAG,IAAI,IAAI,mBAAiB;AACjD;AAEA,iBAAQ,SAAS,oBAAoB,IAAI,SAAU,OAAwC;AACzF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,QAAM,UAAU,iBAAQ,YAAY,OAAO,yBAAuB,KAAK;AACvE,mBAAQ,SAAS,iBAAiB,KAAK,WAAW,GAAG,aAAa,IAAI;AACtE,SAAO,CAAC,WAAW,GAAG,KAAK,IAAI,KAAK,OAAO,mBAAiB;AAC9D;;;AC3DA,iBAAQ,SAAS,aAAa,IAAI,SAAU,OAA8B;AACxE,QAAM,QAAQ,MAAM,cAAc,OAAO;AACzC,QAAM,SAAS,MAAM,cAAc,QAAQ;AAC3C,mBAAQ,SAAS,sBAAsB,KAAK,MAAM,UAAU,KAAK,MAAM,IAAI;AAC3E,SAAO;AACT;AAEA,iBAAQ,SAAS,gBAAgB,IAAI,SAAU,QAAyC;AACtF,SAAO,CAAC,wCAAsC;AAChD;AAEA,iBAAQ,SAAS,qBAAqB,IAAI,SAAU,QAAyC;AAC3F,SAAO,CAAC,+BAA6B;AACvC;AAEA,iBAAQ,SAAS,cAAc,IAAI,SAAU,OAA8B;AACzE,QAAM,YAAY,iBAAQ,YAAY,OAAO,+BAA6B;AAC1E,SAAO,gBAAgB,SAAS;AAAA;AAClC;;;AClBA,iBAAQ,SAAS,kBAAkB,IAAI,SAAU,OAA8B;AAC7E,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,QAAM,cAAc,MAAM,cAAc,OAAO,KAAK;AACpD,mBAAQ,WAAW,OAAO,KAAK,SAAS,QAAQ,KAAK;AACrD,MAAI,QAAQ,OAAO,QAAQ,KAAK;AAC9B,qBAAQ,SAAS,QAAQ,KAAK,aAAa,GAAG,cAAc,KAAK;AAAA,EACnE;AACA,SAAO,gBAAgB,GAAG,KAAK,WAAW;AAAA;AAC5C;AAEA,iBAAQ,SAAS,iBAAiB,IAAI,SAAU,OAA8B;AAC5E,QAAM,UAAU,MAAM,cAAc,KAAK,KAAK;AAC9C,QAAM,OAAO,MAAM,cAAc,MAAM,KAAK;AAC5C,QAAM,SAAS,MAAM,cAAc,IAAI;AAGvC,QAAM,CAAC,MAAM,IAAI,IAAI,KAAK,MAAM,GAAG,EAAE,IAAI,CAAC,MAAc,EAAE,KAAK,CAAC;AAEhE,mBAAQ,WAAW,eAAe,mBAAmB;AACrD,mBAAQ,WAAW,4BAA4B,gCAAgC;AAC/E,mBAAQ,eAAe,WAAW,yBAAyB,OAAO,KAAK,IAAI,KAAK,IAAI,IAAI;AAExF,MAAI,QAAQ;AACZ,WAAS;AACT,WAAS;AACT,MAAI,WAAW,QAAQ;AACrB,aAAS;AAAA,EACX,OAAO;AACL,aAAS;AAAA,EACX;AACA,mBAAQ,SAAS,aAAa,OAAO,IAAI;AACzC,SAAO;AACT;AAEA,iBAAQ,SAAS,kBAAkB,IAAI,SAAU,QAA+B;AAC9E,SAAO;AACT;AAEA,iBAAQ,SAAS,kBAAkB,IAAI,SAAU,OAA8B;AAC7E,QAAM,OAAO,iBAAQ,YAAY,OAAO,6BAA2B,KAAK;AACxE,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,SAAO,iBAAiB,GAAG,IAAI,GAAG;AAAA,YAAiB,IAAI;AAAA;AACzD;;;AC3CA,iBAAQ,SAAS,YAAY,IAAI,SAAU,OAA8B;AACvE,QAAM,UAAU,MAAM,cAAc,MAAM,KAAK;AAC/C,QAAM,UAAU,MAAM,cAAc,MAAM,KAAK;AAC/C,QAAM,OAAO,MAAM,SAAS,KAAK,GAAG,QAAQ,KAAK;AAEjD,mBAAQ,WAAW,OAAO,SAAS,SAAS,QAAQ,iBAAiB;AACrE,mBAAQ,WAAW,OAAO,SAAS,SAAS,OAAO,iBAAiB;AACpE,mBAAQ,WAAW,cAAc,MAAM,qBAAqB;AAC5D,mBAAQ,eAAe,SAAS,MAAM,UAAU,IAAI,IAAI,OAAO,IAAI,OAAO,IAAI;AAC9E,mBAAQ,YAAY,OAAO,KAAK,aAAa,IAAI,WAAW,OAAO,KAAK,IAAI;AAC5E,mBAAQ,YAAY,OAAO,KAAK,aAAa,IAAI,WAAW,OAAO,KAAK,IAAI;AAC5E,mBAAQ,SAAS,iBAAiB,SAAS,aAAa,IAAI,mBAAmB,IAAI;AACnF,mBAAQ,SAAS,iBAAiB,SAAS,aAAa,IAAI,kBAAkB,IAAI;AAClF,SAAO;AACT;AAEA,iBAAQ,SAAS,iBAAiB,IAAI,SAAU,OAAwC;AACtF,QAAM,OAAO,MAAM,SAAS,KAAK,GAAG,QAAQ,KAAK;AACjD,mBAAQ,YAAY,SAAS,MAAM,gBAAgB,IAAI,KAAK,IAAI;AAChE,mBAAQ,YAAY,SAAS,MAAM,YAAY,IAAI,MAAM,IAAI,UAAU;AACvE,SAAO,CAAC,YAAY,IAAI,kBAAgB;AAC1C;AAEA,iBAAQ,SAAS,aAAa,IAAI,SAAU,OAAwC;AAClF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,MAAM;AACrD,mBAAQ,YAAY,SAAS,KAAK,cAAc,GAAG,KAAK,IAAI;AAC5D,mBAAQ,YAAY,SAAS,KAAK,cAAc,GAAG,KAAK,IAAI;AAC5D,mBAAQ,SAAS,QAAQ,8BAA8B,IAAI;AAC3D,mBAAQ,YAAY,SAAS,KAAK,QAAQ,GAAG,iBAAiB,GAAG,IAAI;AACrE,mBAAQ,YAAY,SAAS,KAAK,QAAQ,GAAG,YAAY,GAAG,aAAa;AACzE,SAAO,CAAC,QAAQ,GAAG,kBAAgB;AACrC;AAEA,iBAAQ,SAAS,cAAc,IAAI,SAAU,OAAwC;AACnF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,QAAM,SAAS,MAAM,cAAc,OAAO;AAC1C,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,OAAO;AACtD,mBAAQ,WAAW,SAAS,kBAAkB;AAC9C,mBAAQ,eAAe,OAAO,WAAW,GAAG,WAAW;AACvD,mBAAQ,SAAS,OAAO,kBAAkB,IAAI;AAE9C,MAAI;AACJ,MAAI,WAAW,KAAK;AAClB,qBAAQ,YAAY,SAAS,KAAK,aAAa,GAAG,KAAK,IAAI;AAC3D,qBAAQ,YAAY,SAAS,KAAK,OAAO,GAAG,wBAAwB;AACpE,WAAO,OAAO,GAAG;AAAA,EACnB,OAAO;AACL,qBAAQ,YAAY,SAAS,KAAK,aAAa,GAAG,KAAK,IAAI;AAC3D,qBAAQ,YAAY,SAAS,KAAK,OAAO,GAAG,2BAA2B;AACvE,WAAO,OAAO,GAAG;AAAA,EACnB;AACA,SAAO,CAAC,oBAAkB;AAC5B;AAEA,iBAAQ,SAAS,sBAAsB,IAAI,SAAU,OAAwC;AAC3F,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,eAAe;AAC9D,mBAAQ,SAAS,iBAAiB,KAAK,aAAa,GAAG,aAAa,IAAI;AACxE,SAAO,CAAC,eAAe,GAAG,2BAAyB;AACrD;AAEA,iBAAQ,SAAS,qBAAqB,IAAI,SAAU,OAAwC;AAC1F,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,cAAc;AAC7D,mBAAQ,YAAY,SAAS,KAAK,gBAAgB,GAAG,SAAS,IAAI;AAClE,mBAAQ,YAAY,SAAS,KAAK,YAAY,GAAG,iBAAiB,GAAG,IAAI;AACzE,SAAO,CAAC,YAAY,GAAG,kBAAgB;AACzC;AAEA,iBAAQ,SAAS,YAAY,IAAI,SAAU,OAAwC;AACjF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,KAAK;AACpD,mBAAQ,YAAY,SAAS,KAAK,oBAAoB,GAAG,aAAa,IAAI;AAC1E,mBAAQ,YAAY,SAAS,KAAK,eAAe,GAAG,kBAAkB,GAAG,IAAI;AAC7E,SAAO,CAAC,eAAe,GAAG,kBAAgB;AAC5C;AAEA,iBAAQ,SAAS,aAAa,IAAI,SAAU,OAA8B;AACxE,QAAM,QAAQ,MAAM,cAAc,QAAQ,KAAK;AAC/C,QAAM,SAAS,MAAM,cAAc,SAAS,KAAK;AAEjD,mBAAQ,WAAW,OAAO,OAAO,SAAS,KAAK,SAAS;AACxD,mBAAQ,WAAW,OAAO,QAAQ,SAAS,KAAK,UAAU;AAC1D,mBAAQ,WAAW,QAAQ,kBAAkB;AAC7C,mBAAQ,WAAW,gBAAgB,sBAAsB;AACzD,mBAAQ,eAAe,eAAe,mBAAmB,KAAK,KAAK,MAAM,IAAI;AAC7E,mBAAQ,SAAS,aAAa,kBAAkB,IAAI;AACpD,mBAAQ,SAAS,cAAc,yBAAyB,IAAI;AAE5D,SAAO;AACT;;;AC3FA,iBAAQ,SAAS,aAAa,IAAI,SAAU,OAA8B;AACxE,QAAM,UAAU,MAAM,cAAc,SAAS,KAAK;AAClD,QAAM,UAAU,MAAM,SAAS,KAAK,GAAG,QAAQ,KAAK;AAEpD,MAAI,CAAC,QAAQ,KAAK,GAAG;AACnB,WAAO;AAAA,EACT;AAEA,UAAQ,SAAS;AAAA,IACf,KAAK,QAAQ;AACX,YAAM,MAAM,MAAM,cAAc,KAAK,KAAK;AAC1C,uBAAQ,WAAW,OAAO,KAAK,SAAS,OAAO,OAAO;AACtD,uBAAQ,WAAW,iBAAiB,oBAAoB;AACxD,uBAAQ,eAAe,kBAAkB,SAAS,SAAS,OAAO,GAAG;AACrE,uBAAQ,SAAS,iBAAiB,SAAS,KAAK,OAAO,WAAW,GAAG,MAAM,IAAI;AAC/E,aAAO;AAAA,IACT;AAAA,IACA,KAAK,SAAS;AACZ,YAAM,eAAe,MAAM,OAAO;AAClC,YAAM,QAAQ,MAAM,cAAc,OAAO,KAAK;AAC9C,aAAO,GAAG,OAAO,UAAU,KAAK;AAAA;AAAA,IAClC;AAAA,IACA,KAAK;AACH,YAAM,eAAe,MAAM,OAAO;AAClC,aAAO,GAAG,OAAO;AAAA;AAAA,IACnB,KAAK;AACH,YAAM,eAAe,MAAM,OAAO;AAClC,aAAO,GAAG,OAAO;AAAA;AAAA,IACnB;AACE,aAAO;AAAA,EACX;AACF;AAEA,iBAAQ,SAAS,UAAU,IAAI,SAAU,OAA8B;AACrE,QAAM,UAAU,MAAM,cAAc,SAAS,KAAK;AAClD,QAAM,UAAU,MAAM,SAAS,KAAK,GAAG,QAAQ,KAAK;AAEpD,MAAI,YAAY,QAAQ;AACtB,UAAM,OAAO,MAAM,cAAc,MAAM;AACvC,UAAM,OAAO,MAAM,cAAc,MAAM;AACvC,UAAM,OAAO,MAAM,cAAc,MAAM;AACvC,UAAM,OAAO,MAAM,cAAc,MAAM;AAEvC,qBAAQ,WAAW,OAAO,MAAM,SAAS,QAAQ,aAAa;AAC9D,qBAAQ,WAAW,OAAO,MAAM,SAAS,QAAQ,aAAa;AAC9D,qBAAQ,WAAW,OAAO,MAAM,SAAS,QAAQ,aAAa;AAC9D,qBAAQ,WAAW,OAAO,MAAM,SAAS,QAAQ,aAAa;AAC9D,qBAAQ;AAAA,MAAW;AAAA,MACjB,OAAO,OAAO,SAAS,IAAI;AAAA,MAAU,OAAO,QAAQ,IAAI;AAAA,MAAU,OAAO,QAAQ,IAAI;AAAA,MAAU,OAAO,QAAQ,IAAI;AAAA,IACpH;AAEA,qBAAQ;AAAA,MAAS;AAAA,MACf,WAAW,OAAO;AAAA,YAA2B,OAAO;AAAA,YAA2B,OAAO;AAAA,YAA2B,OAAO;AAAA,MACxH;AAAA,IACF;AAEA,qBAAQ;AAAA,MAAY;AAAA,MAClB,QAAQ,OAAO;AAAA,iBAA+B,OAAO;AAAA,iBAA6B,OAAO;AAAA,iBAA8B,OAAO;AAAA,iBAA6B,OAAO;AAAA;AAAA,IACpK;AACA,qBAAQ;AAAA,MAAY;AAAA,MAClB,QAAQ,OAAO;AAAA,iBAAgC,OAAO;AAAA,iBAA8B,OAAO;AAAA,iBAA6B,OAAO;AAAA,iBAA8B,OAAO;AAAA;AAAA,IACtK;AACA,qBAAQ;AAAA,MAAY;AAAA,MAClB,QAAQ,OAAO;AAAA,iBAA4B,OAAO;AAAA,iBAA8B,OAAO;AAAA,iBAA6B,OAAO;AAAA,iBAA6B,OAAO;AAAA;AAAA,IACjK;AACA,qBAAQ;AAAA,MAAY;AAAA,MAClB,QAAQ,OAAO;AAAA,iBAA6B,OAAO;AAAA,iBAA6B,OAAO;AAAA,iBAA8B,OAAO;AAAA,iBAA8B,OAAO;AAAA;AAAA,IACnK;AACA,qBAAQ;AAAA,MAAY;AAAA,MAClB,QAAQ,OAAO;AAAA,iBAA4B,OAAO;AAAA,iBAA6B,OAAO;AAAA,iBAA6B,OAAO;AAAA,iBAA6B,OAAO;AAAA;AAAA,IAChK;AAEA,WAAO;AAAA,EACT;AAGA,QAAM,eAAe,MAAM,UAAU;AACrC,SAAO,GAAG,OAAO,IAAI,OAAO;AAAA;AAC9B;;;AC9EA,iBAAQ,SAAS,oBAAoB,IAAI,SAAU,OAAwC;AACzF,QAAM,MAAM,MAAM,cAAc,KAAK;AACrC,mBAAQ,YAAY,WAAW,KAAK,oBAAoB,GAAG,aAAa,IAAI;AAC5E,mBAAQ,YAAY,YAAY,KAAK,eAAe,GAAG,kBAAkB,GAAG,IAAI;AAChF,SAAO,CAAC,eAAe,GAAG,kBAAgB;AAC5C;;;ACLA,iBAAQ,SAAS,gBAAgB,IAAI,SAAU,OAA8B;AAC3E,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,QAAM,OAAO,MAAM,cAAc,MAAM;AACvC,QAAM,QAAQ,MAAM,cAAc,OAAO;AAEzC,mBAAQ,WAAW,OAAO,MAAM,SAAS,QAAQ,cAAc;AAC/D,mBAAQ,WAAW,OAAO,MAAM,SAAS,QAAQ,cAAc;AAC/D,mBAAQ,WAAW,kBAAkB,6BAA6B;AAClE,mBAAQ,WAAW,kBAAkB,qBAAqB,IAAI,KAAK,IAAI,cAAc;AACrF,mBAAQ,SAAS,mBAAmB,cAAc,KAAK,MAAM,IAAI;AACjE,SAAO;AACT;AAEA,iBAAQ,SAAS,mBAAmB,IAAI,SAAU,QAAyC;AACzF,SAAO,CAAC,oCAAkC;AAC5C;AAEA,iBAAQ,SAAS,wBAAwB,IAAI,SAAU,QAAyC;AAC9F,SAAO,CAAC,2BAAyB;AACnC;AAEA,iBAAQ,SAAS,iBAAiB,IAAI,SAAU,OAA8B;AAC5E,QAAM,YAAY,iBAAQ,YAAY,OAAO,2BAAyB;AACtE,SAAO,YAAY,SAAS;AAAA;AAC9B;","names":["Blockly","code","Blockly","Blockly","isNumber","Blockly","Blockly"]}