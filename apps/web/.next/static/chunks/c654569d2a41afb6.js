(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23961,e=>{"use strict";var t,r=e.i(90521),n=e.i(84152),o=e.i(74449),i=e.i(99126),u=e.i(45892);e.i(57076);var a=e.i(32261),s=e.i(28290),c=e.i(30711),l=e.i(52658);let f=function(){if(void 0!==t)return t;var e=!1,r={get passive(){e=!0}},n=function(){};return window.addEventListener("t",n,r),window.removeEventListener("t",n,r),t=e,e};var d=o.useLayoutEffect,v=function(e){var t=o.default.useRef(e);return d(function(){t.current=e}),t},y="touchstart",w=["mousedown",y],h=function(e){if(e===y&&f())return{passive:!0}},E=document;function m(){var e,t,f;let{currentProject:d,isDirty:y,generatedCode:m,selectedCategory:p,isCodePanelOpen:C,closeProject:g,selectCategory:x,toggleCodePanel:j,copyCodeToClipboard:K,undo:b,redo:L}=(0,n.useEditorStore)(),T=(0,o.useRef)(null);if(!function(){let{isDirty:e,saveProject:t,currentProject:r}=(0,n.useEditorStore)(),u=(0,o.useRef)(null),a=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(r&&e&&!a.current)return u.current&&clearTimeout(u.current),u.current=setTimeout(async()=>{a.current=!0;try{await t(!0)}finally{a.current=!1}},3e3),()=>{u.current&&clearTimeout(u.current)}},[e,r,t]),(0,o.useEffect)(()=>{if(!r)return;let n=async r=>{if(e&&!a.current){r.preventDefault(),a.current=!0;try{await t(!0),i.toast.success("Auto-saved",{description:"Your work has been saved",duration:2e3})}catch(e){console.error("[useAutoSave] Failed to save on unload:",e),i.toast.error("Failed to save",{description:"Could not save your changes"})}finally{a.current=!1}}};return window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}},[e,r,t])}(),e=()=>{p&&x(null)},t=E,f=v(e),(0,o.useEffect)(function(){if(e){var r=function(e){!T.current||!f.current||T.current.contains(e.target)||f.current(e)};return w.forEach(function(e){t.addEventListener(e,r,h(e))}),function(){w.forEach(function(e){t.removeEventListener(e,r)})}}},[!e]),(0,o.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"z"===e.key&&!e.shiftKey&&(e.preventDefault(),b()),((e.ctrlKey||e.metaKey)&&"y"===e.key||(e.ctrlKey||e.metaKey)&&e.shiftKey&&"z"===e.key)&&(e.preventDefault(),L())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b,L]),!d)return null;let k=async()=>{await K()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"h-screen w-screen flex flex-col overflow-hidden",children:[(0,r.jsx)(u.EditorToolbar,{project:d,isDirty:y,isCodePanelOpen:C,onToggleCodePanel:j,onClose:g}),(0,r.jsxs)("div",{className:"flex relative flex-1 overflow-hidden h-full",children:[(0,r.jsx)(a.CategorySidebar,{selectedCategory:p,onSelectCategory:e=>{e===p?x(null):x(e)}}),(0,r.jsx)(c.WorkspaceContainer,{}),C&&(0,r.jsx)(s.CodePanel,{code:m,onCopy:k,onClose:j})]})]}),(0,r.jsx)(l.VariableDialog,{})]})}e.s(["default",()=>m],23961)}]);