{"version":3,"sources":["../../../../../../node_modules/.bun/next%4016.1.4%2B67f6792bdf102c28/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../../node_modules/.bun/next%4016.1.4%2B67f6792bdf102c28/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../node_modules/.bun/next%4016.1.4%2B67f6792bdf102c28/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../apps/web/src/app/editor/layout.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\nimport { useEffect, Suspense } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { useEditorStore } from '@/stores/editorStore';\nimport { EditorSkeleton } from '@/components/editor';\n\nfunction EditorContent({ children }: { children: React.ReactNode }) {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const projectId = searchParams.get('id');\n\n  const { currentProject, error, loadProject } = useEditorStore();\n\n  useEffect(() => {\n    if (projectId) {\n      loadProject(projectId);\n    }\n\n    // Cleanup when navigating away or changing projects\n    return () => {\n      // Reset editor state to prevent data from one project bleeding into another\n      useEditorStore.getState().reset();\n    };\n  }, [projectId, loadProject]);\n\n  // Error state - only show if loadProject set an error\n  if (error) {\n    return (\n      <div className=\"h-screen w-screen flex items-center justify-center bg-[#1a1a2e]\">\n        <div className=\"flex flex-col items-center gap-4 max-w-md text-center\">\n          <div className=\"text-red-500 text-6xl mb-4\">!</div>\n          <h1 className=\"text-2xl font-bold text-white\">Project Not Found</h1>\n          <p className=\"text-white/70\">{error}</p>\n          <button\n            onClick={() => router.push('/projects')}\n            className=\"mt-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n          >\n            Go Back to Projects\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Show skeleton until project is loaded\n  if (!currentProject) {\n    return <EditorSkeleton />;\n  }\n\n  // Render children when project is loaded\n  return <>{children}</>;\n}\n\nexport default function EditorLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <Suspense fallback={<EditorSkeleton />}>\n      <EditorContent>{children}</EditorContent>\n    </Suspense>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"+iBAAAA,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,qzCCAzC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,gBAEA,SAAS,EAAc,UAAE,CAAQ,CAAiC,EAChE,IAAM,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAY,EAAa,GAAG,CAAC,MAE7B,gBAAE,CAAc,CAAE,OAAK,CAAE,aAAW,CAAE,CAAG,CAAA,EAAA,EAAA,cAAA,AAAc,UAe7D,CAbA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GACF,EAAY,GAIP,GALQ,EAOb,EAAA,cAAc,CAAC,QAAQ,GAAG,KAAK,EACjC,GACC,CAAC,EAAW,EAAY,EAGvB,GAEA,CAAA,EAAA,CAFO,CAEP,GAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,MAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yCAAgC,sBAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAiB,IAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,aAC3B,UAAU,gGACX,6BASJ,EAKE,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EALc,MAKd,CAAA,UAAG,IAJD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAA,EAK1B,CAEe,SAAS,EAAa,UAAE,CAAQ,CAAiC,EAC9E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAA,YACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAe,KAGtB","ignoreList":[0,1,2]}